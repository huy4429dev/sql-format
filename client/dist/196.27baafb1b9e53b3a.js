(self.webpackChunkWebSPA=self.webpackChunkWebSPA||[]).push([[196],{1196:(s,u,r)=>{"use strict";r.r(u),r.d(u,{TemplateModule:()=>ye});var a=r(9966),o=r(9808),l=r(8505),e=r(4893),c=r(9305);let T=(()=>{class d{constructor(t){this.dataService=t,this.repipeUrl="http://18.168.249.212/api/template/"}getAll(t){return this.dataService.get(this.repipeUrl,t).pipe((0,l.b)(n=>n))}store(t){return this.dataService.post(this.repipeUrl+"add",t).pipe((0,l.b)(n=>!0))}edit(t){return this.dataService.putWithId(this.repipeUrl+"update/"+t.template_id,t).pipe((0,l.b)(n=>!0))}delete(t){return this.dataService.delete(this.repipeUrl+"delete/"+t)}bulkDelete(t){return this.dataService.delete(this.repipeUrl+"delete_multiple",{body:{ids:t}})}getHistory(t,n){return this.dataService.get(this.repipeUrl+"history/"+t,n).pipe((0,l.b)(p=>p))}getDataWarehouseType(){return this.dataService.get(this.repipeUrl+"warehousetype").pipe((0,l.b)(t=>t))}getDataSourcePlatformType(){return this.dataService.get(this.repipeUrl+"sourceplatformtype").pipe((0,l.b)(t=>t))}getConnector(){return this.dataService.get(this.repipeUrl+"connector").pipe((0,l.b)(t=>t))}}return d.\u0275fac=function(t){return new(t||d)(e.LFG(c.D))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac}),d})();var m=r(8168),A=r(7579),S=r(1135),E=r(2722),f=r(8372),i=r(8746),N=r(2313),I=r(7596),y=r(5075),_=r(5517),v=r(2267),g=r(2382),R=r(262),O=r(515),P=r(2016),Z=r(8704),F=r(3199);function H(d,C){if(1&d){const t=e.EpF();e.TgZ(0,"div",2)(1,"button",3),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.onClean.emit(!0))}),e._uU(2,"Clean"),e.qZA(),e.TgZ(3,"button",3),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.onSubentity.emit(!0))}),e._uU(4,"Subentity"),e.qZA()()}}let G=(()=>{class d{constructor(){this.onClean=new e.vpe,this.onSubentity=new e.vpe}ngOnInit(){}}return d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-template-dropdown"]],outputs:{onClean:"onClean",onSubentity:"onSubentity"},decls:4,vars:1,consts:[[1,"btn","btn-secondary","text-white","my-4",3,"cdkMenuTriggerFor"],["menu",""],["cdkMenu","",1,"example-menu"],["cdkMenuItem","",1,"example-menu-item",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"button",0),e._uU(1,"Template"),e.qZA(),e.YNc(2,H,5,0,"ng-template",null,1,e.W1O)),2&t){const p=e.MAs(3);e.Q6J("cdkMenuTriggerFor",p)}},dependencies:[F.qn,F.Sv,F.aV],styles:[".example-menu[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;min-width:180px;max-width:280px;background-color:#fff;padding:6px 0}.example-menu-item[_ngcontent-%COMP%], .example-standalone-trigger[_ngcontent-%COMP%]{background-color:transparent;cursor:pointer;border:none;-webkit-user-select:none;user-select:none;min-width:64px;line-height:36px;padding:0 16px;display:flex;align-items:center;flex-direction:row;flex:1}.example-menu-item[_ngcontent-%COMP%]:hover{background-color:#d0d0d0}.example-menu-item[_ngcontent-%COMP%]:active{background-color:#aaa}.example-standalone-item[_ngcontent-%COMP%]{background-color:#efefef}.example-standalone-item[_ngcontent-%COMP%]:hover, .example-standalone-item[aria-expanded=true][_ngcontent-%COMP%]{background-color:#d0d0d0}"]}),d})();function w(d,C){1&d&&(e.TgZ(0,"div"),e._uU(1," Name is required. "),e.qZA())}function B(d,C){if(1&d&&(e.TgZ(0,"div",44),e.YNc(1,w,2,0,"div",45),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.templateForm.get("name").errors.required)}}function L(d,C){1&d&&(e.TgZ(0,"div"),e._uU(1," Version is required. "),e.qZA())}function W(d,C){if(1&d&&(e.TgZ(0,"div",44),e.YNc(1,L,2,0,"div",45),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.templateForm.get("version").errors.required)}}function k(d,C){if(1&d&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&d){const t=C.$implicit;e.Q6J("value",null==t?null:t.warehouse_type),e.xp6(1),e.Oqu(null==t?null:t.role)}}function Q(d,C){if(1&d&&(e.TgZ(0,"option",47),e._uU(1),e.qZA()),2&d){const t=C.$implicit,n=e.oxw();e.Q6J("value",t.id)("selected",t.id===n.selectedSourceType),e.xp6(1),e.Oqu(t.name)}}function X(d,C){if(1&d&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&d){const t=C.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.value)}}function q(d,C){if(1&d&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&d){const t=C.$implicit;e.Q6J("value",null==t?null:t.source_platform_type),e.xp6(1),e.Oqu(null==t?null:t.role)}}function K(d,C){if(1&d){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",49),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.handleSubmit())}),e._uU(2," Save "),e.qZA(),e.BQk()}}function j(d,C){1&d&&(e.TgZ(0,"button",50),e._UZ(1,"span",51),e.qZA())}let $=(()=>{class d{constructor(t,n,p,h,b){this.fb=t,this.mainService=n,this.loadingService=p,this.notifyService=h,this.router=b,this.model=null,this.onClose=new e.vpe,this.onOk=new e.vpe,this.editorOptions={theme:"vs-dark",language:"sql"},this.editorOptionsJson={theme:"vs-dark",language:"json",wordWrap:"on",automaticLayout:!0,formatOnType:!0,formatOnPaste:!0,formatOnSave:!0},this.ngSelect=1,this.query="",this.beforeQueryFormat="",this.jsonGenerate="",this.isHandling=!1,this.backDrop=document.querySelector(".modal-backdrop"),this.data=[],this.ReportTypes=[]}ngOnInit(){var t,n,p,h;this.fetchDataType(),this.fetchDataSourcePlatformType(),this.fetchDataConnector(),this.backDrop.style.display="block",this.templateForm=this.fb.group({name:[this.model.name,g.kI.required],version:[this.model.version,g.kI.required],sql_template:[this.model.sql_template],definition:[this.formatJson(JSON.stringify(this.model.definition))],warehouse_type:[null!==(t=this.model.warehouse_type)&&void 0!==t?t:""],source_type:[null!==(n=this.model.source_type)&&void 0!==n?n:""],report_type:[null!==(p=this.model.report_type)&&void 0!==p?p:""],source_platform_type:[null!==(h=this.model.source_platform_type)&&void 0!==h?h:""]}),this.typeValue=this.model.warehouse_type,this.jsonGenerate=this.formatJson(JSON.stringify(this.model.definition)),this.ngSourceType=this.model.source_type,this.ngReportType=this.model.report_type,this.typeSourcePlatformValue=this.model.source_platform_type,""!==this.model.source_type&&this.fetchDataConnector().pipe((0,l.b)(()=>{this.onSourceTypeChange(this.model.source_type)}),(0,i.x)(()=>{this.backDrop.style.display="none"})).subscribe()}formatJson(t){const n=JSON.parse(t);return JSON.stringify(n,null,2)}onSourceTypeChange(t){const n=this.data.find(h=>h.id===t),p=this.extractReportTypes(n.reports);this.ReportTypes=[],p.forEach(h=>{this.ReportTypes.push(new g.NI(h))})}extractReportTypes(t){const n=(t=t.replaceAll('\\"',"")).matchAll(/report-type\s+([a-z-]+)/g),p=[];for(const h of n)p.push(h[1]);return p}fetchDataConnector(){return this.loadingService.isLoading.next(!0),this.mainService.getConnector().pipe((0,i.x)(()=>{this.loadingService.isLoading.next(!1)}),(0,l.b)(t=>{var n;!t||(this.data=null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[])}),(0,R.K)(t=>{var n;return this.notifyService.pushNotify.next({type:"error",message:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"error"}),O.E}))}saveType(t){let n=this.dataType.find(p=>(null==p?void 0:p.role)===t.target.value);this.typeValue=n.role}saveSourcePlatformType(t){let n=this.dataSourcePlatformType.find(p=>(null==p?void 0:p.role)===t.target.value);this.typeSourcePlatformValue=n.role}fetchDataType(){this.mainService.getDataWarehouseType().pipe((0,i.x)(()=>{this.loadingService.isLoading.next(!1)})).subscribe({next:t=>{var n;!t||(this.dataType=null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[])},error:t=>{var n;this.notifyService.pushNotify.next({type:"error",message:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"error"})}})}fetchDataSourcePlatformType(){this.mainService.getDataSourcePlatformType().pipe((0,i.x)(()=>{this.loadingService.isLoading.next(!1)})).subscribe({next:t=>{var n;!t||(this.dataSourcePlatformType=null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[])},error:t=>{var n;this.notifyService.pushNotify.next({type:"error",message:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"error"})}})}handleSubmit(){if(!this.templateForm.valid)return;this.loadingService.isLoading.next(!0);const t={template_id:this.model.template_id,name:this.templateForm.get("name").value,version:this.templateForm.get("version").value,sql_template:this.templateForm.get("sql_template").value,definition:this.templateForm.get("definition").value,warehouse_type:this.templateForm.get("warehouse_type").value,source_type:this.templateForm.get("source_type").value,report_type:this.templateForm.get("report_type").value,source_platform_type:this.templateForm.get("source_platform_type").value,user_id:localStorage.getItem("user_id")};let n={};this.mainService.edit(t).pipe((0,i.x)(()=>{this.loadingService.isLoading.next(!1),this.notifyService.pushNotify.next(n)})).subscribe({next:()=>{n={type:"success",message:"update template success"};for(const p in t)this.model[p]=t[p],"definition"==p&&(this.model[p]=JSON.parse(t[p]));this.model.updated_at=(new Date).toISOString(),this.onClose.emit(!0),this.router.navigate(["/admin/template/"])},error:p=>{var h;n={type:"error",message:null!==(h=null==p?void 0:p.message)&&void 0!==h?h:"error"}},complete:()=>{this.isHandling=!0,this.removeValidators(),this.templateForm.reset()}})}closeModal(){this.onClose.emit(!0)}ngOnDestroy(){this.backDrop.style.display="none"}removeValidators(){var t,n;for(const p in this.templateForm.controls)null===(t=this.templateForm.get(p))||void 0===t||t.clearValidators(),null===(n=this.templateForm.get(p))||void 0===n||n.updateValueAndValidity()}format(){if(this.query)try{if(!this.isCreateOrReplaceTable(this.templateForm.get("sql_template").value))throw'statement starts with the "CREATE OR REPLACE TABLE" prefix';const p=(0,P.format)(this.formatWithRule(this.templateForm.get("sql_template").value)).replace(":i :table - identifier - x",":i:table-identifier-x").replaceAll(" :: ","::");this.query=p.replaceAll(" :",":")}catch(t){this.notifyService.pushNotify.next({type:"error",message:t.toString()})}}formatWithRule(t){return(t=(t=(t=(t=(t=(t=t.replace(/\b(TABLE|FROM)\s+(\w+)/gi,"$1 :i:$2")).replace(/--(.*)/g,"/*$1*/")).replace(/'/g,'"')).replace(/parse_json\((.*?)\):/g,"parse_json($1)\\:")).replace(/,/g,",\n    ")).replace(/as /g,"as\n    "))+";"}isCreateOrReplaceTable(t){return t.startsWith("CREATE OR REPLACE TABLE")}generateDefinetion(t){const n=[],h=/(\w+_)?(CLEANED|cleaned)$/,b=/(\w+_)?(SUBENTITY|subentity)$/,M=/(\w+_)?(DW|dw)$/,U=t.match(/CREATE\s+OR\s+REPLACE\s+TABLE\s+(\w+)/i);if(U){const D=U[1];let x="";h.test(D)?x="cleaned-table":b.test(D)?x="subentity-table":M.test(D)&&(x="dw-table"),n.push({identifier:D,meta:{label:x}})}}generateDefinetion2(t){const n={type:"",values:[]},p=[],h=t.match(/FROM\s+(\S+)/i);h?(n.type="extract",n.values.push(h[1])):n.type="plain-values";const b=t.match(/CREATE\s+OR\s+REPLACE\s+TABLE\s+(\S+)/i);return b&&p.push(b[1]),{"input-tables":n,"output-tables":p}}queryChange(t){this.beforeQueryFormat=t||""}clickGenerateDefine(){this.jsonGenerate=""==this.beforeQueryFormat?"":this.formatJson(JSON.stringify(this.generateDefinetion2(this.beforeQueryFormat)))}clean(){try{this.query=(0,P.format)("CREATE OR REPLACE TABLE CLEAN.table_name_CLEANED\n        AS\n        \n        WITH UNIONED AS\n        (\n        :i:table-identifier-x\n        )\n        \n        SELECT\n            *\n          ,  _kleene_extract_date                                                \n          ,  _kleene_metadata_id                                               \n          ,  current_timestamp                                                                                             AS _last_run_timestamp\n          FROM UNIONED")}catch(t){this.notifyService.pushNotify.next({type:"error",message:t.toString()})}}subentity(){try{this.query=(0,P.format)("CREATE OR REPLACE TABLE SUBENTITY.table_name_SUBENTITY \n        AS\n        \n        SELECT\n             *\n        FROM\n          CLEAN.table_name_CLEANED")}catch(t){this.notifyService.pushNotify.next({type:"error",message:t.toString()})}}}return d.\u0275fac=function(t){return new(t||d)(e.Y36(g.qu),e.Y36(T),e.Y36(I.b),e.Y36(y.c),e.Y36(m.F0))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-template-edit-item"]],inputs:{model:"model"},outputs:{onClose:"onClose",onOk:"onOk"},decls:65,vars:17,consts:[["tabindex","-1","role","dialog",1,"modal","fade","show",2,"display","flex","align-items","center","justify-content","center","z-index","500",3,"click"],[1,"modal-content",2,"width","72%",3,"click"],[1,"modal-header"],["id","mySmallModalLabel",1,"modal-title","h4"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","btn-xs","btn-icon","btn-ghost-secondary",3,"click"],[1,"tio-clear","tio-lg"],[1,"modal-body",2,"height","80vh","overflow","auto"],[1,"container","pb-5"],[3,"formGroup"],[1,"row"],[1,"mb-3","col-6"],["for","name",1,"form-label","fw-bold"],["type","text","id","name","aria-describedby","nameHelp","formControlName","name",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"mb-3"],["for","version",1,"form-label","fw-bold"],["type","text","id","version","formControlName","version",1,"form-control"],["for","warehouse_type",1,"form-label","fw-bold"],["type","text","list","warehouse_types","placeholder","warehouse type here","formControlName","warehouse_type",1,"form-control",3,"ngModel","ngModelChange","change"],["id","warehouse_types"],[3,"value",4,"ngFor","ngForOf"],["for","source_type",1,"form-label","fw-bold"],["aria-label","source_type","formControlName","source_type",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value","selected",4,"ngFor","ngForOf"],["for","report_type",1,"form-label","fw-bold"],["aria-label","report_type","formControlName","report_type",1,"form-select",3,"ngModel","ngModelChange"],["selected","",3,"value",4,"ngFor","ngForOf"],["for","source_platform_type",1,"form-label","fw-bold"],["type","text","list","source_platform_type","placeholder","source platform type here","formControlName","source_platform_type",1,"form-control",3,"ngModel","ngModelChange","change"],["id","source_platform_type"],[1,"mb-4","divider"],[1,"col-xl-8","border-end","pe-4"],[1,"m-0","fw-bold","text-center"],[1,"d-flex",2,"gap","10px"],[1,"btn","btn-warning","text-white","my-4",3,"click"],[3,"onClean","onSubentity"],["formControlName","sql_template","id","sql_text",2,"height","410px",3,"ngModel","options","ngModelChange"],[1,"col-xl-4","ps-4"],[1,"btn","btn-primary","my-4",3,"click"],["formControlName","definition","id","sql_text",2,"height","410px",3,"ngModel","options","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-sm","btn-white",3,"click"],[4,"ngIf","ngIfElse"],["notHandle",""],[1,"alert","alert-danger","mt-2"],[4,"ngIf"],[3,"value"],[3,"value","selected"],["selected","",3,"value"],["type","submit",1,"btn","btn-sm","btn-warning",3,"click"],["disabled","","type","button",1,"btn","btn-sm","btn-warning","btn-loader"],[1,"loader"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return n.closeModal()}),e.TgZ(1,"div",1),e.NdJ("click",function(h){return h.stopPropagation()}),e.TgZ(2,"div",2)(3,"h5",3),e._uU(4,"Update action"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.closeModal()}),e._UZ(6,"i",5),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"form",8)(10,"div",9)(11,"div",10)(12,"label",11),e._uU(13,"Name"),e.qZA(),e._UZ(14,"input",12),e.YNc(15,B,2,1,"div",13),e.qZA(),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Version"),e.qZA(),e._UZ(19,"input",16),e.YNc(20,W,2,1,"div",13),e.qZA(),e.TgZ(21,"div",14)(22,"label",17),e._uU(23,"Warehouse Type"),e.qZA(),e.TgZ(24,"input",18),e.NdJ("ngModelChange",function(h){return n.typeValue=h})("change",function(h){return n.saveType(h)}),e.qZA(),e.TgZ(25,"datalist",19),e.YNc(26,k,2,2,"option",20),e.qZA()(),e.TgZ(27,"div",14)(28,"label",21),e._uU(29,"Source Type"),e.qZA(),e.TgZ(30,"select",22),e.NdJ("ngModelChange",function(h){return n.ngSourceType=h})("change",function(h){return n.onSourceTypeChange(h.target.value)}),e.YNc(31,Q,2,3,"option",23),e.qZA()(),e.TgZ(32,"div",14)(33,"label",24),e._uU(34,"Report Type"),e.qZA(),e.TgZ(35,"select",25),e.NdJ("ngModelChange",function(h){return n.ngReportType=h}),e.YNc(36,X,2,2,"option",26),e.qZA()(),e.TgZ(37,"div",14)(38,"label",27),e._uU(39,"Source Platform Type"),e.qZA(),e.TgZ(40,"input",28),e.NdJ("ngModelChange",function(h){return n.typeSourcePlatformValue=h})("change",function(h){return n.saveType(h)}),e.qZA(),e.TgZ(41,"datalist",29),e.YNc(42,q,2,2,"option",20),e.qZA()(),e._UZ(43,"div",30),e.TgZ(44,"div",9)(45,"div",31)(46,"p",32),e._uU(47,"SQL Template"),e.qZA(),e.TgZ(48,"div",33)(49,"button",34),e.NdJ("click",function(){return n.format()}),e._uU(50,"Format SQL"),e.qZA(),e.TgZ(51,"app-template-dropdown",35),e.NdJ("onClean",function(){return n.clean()})("onSubentity",function(){return n.subentity()}),e.qZA()(),e.TgZ(52,"ngx-monaco-editor",36),e.NdJ("ngModelChange",function(h){return n.query=h})("ngModelChange",function(h){return n.queryChange(h)}),e.qZA()(),e.TgZ(53,"div",37)(54,"p",32),e._uU(55,"Definition"),e.qZA(),e.TgZ(56,"button",38),e.NdJ("click",function(){return n.clickGenerateDefine()}),e._uU(57,"Generate Definition"),e.qZA(),e.TgZ(58,"ngx-monaco-editor",39),e.NdJ("ngModelChange",function(h){return n.jsonGenerate=h}),e.qZA()()()()()(),e.TgZ(59,"div",40)(60,"button",41),e.NdJ("click",function(){return n.closeModal()}),e._uU(61,"Cancel"),e.qZA(),e.YNc(62,K,3,0,"ng-container",42),e.YNc(63,j,2,0,"ng-template",null,43,e.W1O),e.qZA()()()()),2&t){const p=e.MAs(64);e.xp6(9),e.Q6J("formGroup",n.templateForm),e.xp6(6),e.Q6J("ngIf",n.templateForm.get("name").invalid&&(n.templateForm.get("name").dirty||n.templateForm.get("name").touched)),e.xp6(5),e.Q6J("ngIf",n.templateForm.get("version").invalid&&(n.templateForm.get("version").dirty||n.templateForm.get("version").touched)),e.xp6(4),e.Q6J("ngModel",n.typeValue),e.xp6(2),e.Q6J("ngForOf",n.dataType),e.xp6(4),e.Q6J("ngModel",n.ngSourceType),e.xp6(1),e.Q6J("ngForOf",n.data),e.xp6(4),e.Q6J("ngModel",n.ngReportType),e.xp6(1),e.Q6J("ngForOf",n.ReportTypes),e.xp6(4),e.Q6J("ngModel",n.typeSourcePlatformValue),e.xp6(2),e.Q6J("ngForOf",n.dataSourcePlatformType),e.xp6(10),e.Q6J("ngModel",n.query)("options",n.editorOptions),e.xp6(6),e.Q6J("ngModel",n.jsonGenerate)("options",n.editorOptionsJson),e.xp6(4),e.Q6J("ngIf",!n.isHandling)("ngIfElse",p)}},dependencies:[o.sg,o.O5,g._Y,g.YN,g.Kr,g.Fj,g.EJ,g.JJ,g.JL,g.sg,g.u,Z.PG,G],encapsulation:2}),d})();function z(d,C){if(1&d&&(e.TgZ(0,"tr")(1,"td",9),e._uU(2),e.qZA(),e.TgZ(3,"td",16),e._uU(4),e.qZA(),e.TgZ(5,"td",9),e._uU(6),e.qZA(),e.TgZ(7,"td",16),e._uU(8),e.qZA(),e.TgZ(9,"td",16),e._uU(10),e.qZA(),e.TgZ(11,"td",16),e._uU(12),e.qZA(),e.TgZ(13,"td",16),e._uU(14),e.qZA()()),2&d){const t=C.$implicit,n=C.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.log_id),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(t.created_at),e.xp6(2),e.Oqu(t.email_created_by),e.xp6(2),e.Oqu(t.updated_at),e.xp6(2),e.Oqu(t.email_updated_by)}}function ee(d,C){1&d&&(e.TgZ(0,"button",17),e._UZ(1,"span",18),e.qZA())}let te=(()=>{class d{constructor(t,n,p){this.templateService=t,this.loadingService=n,this.notifyService=p,this.model=null,this.onClose=new e.vpe,this.onOk=new e.vpe,this.ngSelect=!0,this.isHandling=!1,this.backDrop=document.querySelector(".modal-backdrop"),this.data=[],this.unsubscribe=new A.x,this.filterInput=new S.X({page:1,page_size:10,template_id:null}),this.config={itemsPerPage:2,currentPage:1,totalItems:0},this.p=1}ngOnDestroy(){this.unsubscribe.next(null),this.unsubscribe.complete()}ngAfterViewInit(){this.subsribeFilter()}subsribeFilter(){this.filterInput.pipe((0,E.R)(this.unsubscribe),(0,l.b)(()=>{}),(0,f.b)(500)).subscribe(()=>{this.fetchData()})}fetchData(){this.loadingService.isLoading.next(!0),this.templateService.getHistory(this.model.template_id,this.filterInput.value).pipe((0,i.x)(()=>{this.loadingService.isLoading.next(!1)})).subscribe({next:t=>{var n;!t||(this.data=null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[],this.config.totalItems=t.pagination.total_records,this.config.itemsPerPage=t.pagination.page_size)},error:t=>{var n;this.notifyService.pushNotify.next({type:"error",message:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"error"})}})}pageChanged(t){console.log(this.filterInput),this.filterInput.next(Object.assign(Object.assign({},this.filterInput.value),{page:t}))}filter(t,n){this.filterInput.next(Object.assign(Object.assign({},this.filterInput.value),{[t]:n.target.value}))}closeModal(){this.onClose.emit(!0)}}return d.\u0275fac=function(t){return new(t||d)(e.Y36(T),e.Y36(I.b),e.Y36(y.c))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-template-history-item"]],inputs:{model:"model"},outputs:{onClose:"onClose",onOk:"onOk"},decls:33,vars:1,consts:[["tabindex","-1","role","dialog",1,"modal","fade","show",2,"display","flex","align-items","center","justify-content","center"],[1,"modal-content",2,"width","72%"],[1,"modal-header"],["id","mySmallModalLabel",1,"modal-title","h4"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","btn-xs","btn-icon","btn-ghost-secondary",3,"click"],[1,"tio-clear","tio-lg"],[1,"container","pb-5"],[1,"table-responsive","scroll-bar"],["data-bs-spy","scroll",1,"table","table-striped","table-hover","table-bordered","table-default"],["scope","col","colspan","1"],["scope","col","colspan","4",1,"col-title","text-center"],["scope","col","colspan","1",1,"col-title","text-center","name"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-sm","btn-white",3,"click"],["notHandle",""],["scope","col","colspan","4"],["disabled","","type","button",1,"btn","btn-sm","btn-warning","btn-loader"],[1,"loader"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),e._uU(4,"Log"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.closeModal()}),e._UZ(6,"i",5),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"table",8)(10,"thead")(11,"tr")(12,"th",9),e._uU(13,"#"),e.qZA(),e.TgZ(14,"th",10),e._uU(15,"log_id"),e.qZA(),e.TgZ(16,"th",11),e._uU(17,"action"),e.qZA(),e.TgZ(18,"th",10),e._uU(19,"created_at"),e.qZA(),e.TgZ(20,"th",10),e._uU(21,"created_by"),e.qZA(),e.TgZ(22,"th",10),e._uU(23,"updated_at"),e.qZA(),e.TgZ(24,"th",10),e._uU(25,"updated_by"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,z,15,7,"tr",12),e.qZA()()()(),e.TgZ(28,"div",13)(29,"button",14),e.NdJ("click",function(){return n.closeModal()}),e._uU(30,"Cancel"),e.qZA(),e.YNc(31,ee,2,0,"ng-template",null,15,e.W1O),e.qZA()()()),2&t&&(e.xp6(27),e.Q6J("ngForOf",n.data))},dependencies:[o.sg],encapsulation:2}),d})();function ne(d,C){1&d&&(e.TgZ(0,"button",28),e._uU(1," Create Template "),e.qZA()),2&d&&e.Q6J("routerLink","create")}function re(d,C){if(1&d){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.popupState.bulkDelete=!0)}),e._uU(1," Delete Recipes "),e.qZA()}}function oe(d,C){1&d&&(e.TgZ(0,"th",30),e._uU(1,"action"),e.qZA())}function ie(d,C){1&d&&e._UZ(0,"th",31)}function ae(d,C){1&d&&(e.TgZ(0,"td",36),e._uU(1,"hiddencolumns"),e.qZA())}function se(d,C){if(1&d){const t=e.EpF();e.TgZ(0,"td",37)(1,"button",38),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,h=e.oxw();return e.KtG(h.handleHistory(p))}),e.O4$(),e.TgZ(2,"svg",39),e._UZ(3,"path",40)(4,"path",41),e.qZA()(),e.kcU(),e.TgZ(5,"button",38),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,h=e.oxw();return e.KtG(h.handleEdit(p))}),e.O4$(),e.TgZ(6,"svg",42),e._UZ(7,"path",43),e.qZA()(),e.kcU(),e.TgZ(8,"button",44),e.NdJ("click",function(){e.CHM(t);const p=e.oxw().$implicit,h=e.oxw();return e.KtG(h.handleDelete(p))}),e.O4$(),e.TgZ(9,"svg",45),e._UZ(10,"path",46),e.qZA()()()}}function le(d,C){if(1&d){const t=e.EpF();e.TgZ(0,"tr")(1,"td",13)(2,"input",19),e.NdJ("change",function(p){const b=e.CHM(t).index,M=e.oxw();return e.KtG(M.checkItem(p,b))}),e.qZA()(),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",32),e._uU(6),e.qZA(),e.TgZ(7,"td",32),e._uU(8),e.qZA(),e.TgZ(9,"td",32),e._uU(10),e.qZA(),e.TgZ(11,"td",32),e._uU(12),e.qZA(),e.TgZ(13,"td",33),e._uU(14),e.qZA(),e.YNc(15,ae,2,0,"td",34),e.YNc(16,se,11,0,"td",35),e.qZA()}if(2&d){const t=C.$implicit,n=e.oxw();e.xp6(2),e.Q6J("checked",t.checked),e.xp6(2),e.Oqu(t.template_id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.warehouse_type),e.xp6(2),e.Oqu(t.version),e.xp6(2),e.Oqu(t.created_at),e.xp6(2),e.hij(" ",t.updated_at,""),e.xp6(1),e.Q6J("ngIf",n.isActiveAdmin),e.xp6(1),e.Q6J("ngIf",n.isActiveAdmin)}}function pe(d,C){if(1&d){const t=e.EpF();e.TgZ(0,"app-template-history-item",47),e.NdJ("onOk",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.okDelete())})("onClose",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.popupState.history=!1)}),e.qZA()}if(2&d){const t=e.oxw();e.Q6J("model",t.itemHandle)}}function ue(d,C){if(1&d){const t=e.EpF();e.TgZ(0,"app-template-edit-item",47),e.NdJ("onOk",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.okDelete())})("onClose",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.popupState.edit=!1)}),e.qZA()}if(2&d){const t=e.oxw();e.Q6J("model",t.itemHandle)}}function Ee(d,C){if(1&d){const t=e.EpF();e.TgZ(0,"app-popup-delete",48),e.NdJ("onOk",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.okDelete())})("onClose",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.popupState.delete=!1)}),e.qZA()}if(2&d){const t=e.oxw();e.Q6J("isHandling",t.popupState.isHandling)}}function ce(d,C){if(1&d){const t=e.EpF();e.TgZ(0,"app-popup-delete",48),e.NdJ("onOk",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.okBulkDelete())})("onClose",function(){e.CHM(t);const p=e.oxw();return e.KtG(p.popupState.bulkDelete=!1)}),e.qZA()}2&d&&e.Q6J("isHandling",!1)}const de=function(d,C,t){return{itemsPerPage:d,currentPage:C,totalItems:t}},Te=function(d,C){return{total:d,count:C}};function fe(d,C){1&d&&(e.TgZ(0,"div"),e._uU(1," Name is required. "),e.qZA())}function he(d,C){if(1&d&&(e.TgZ(0,"div",46),e.YNc(1,fe,2,0,"div",47),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.templateForm.get("name").errors.required)}}function ge(d,C){1&d&&(e.TgZ(0,"div"),e._uU(1," Version is required. "),e.qZA())}function Ae(d,C){if(1&d&&(e.TgZ(0,"div",46),e.YNc(1,ge,2,0,"div",47),e.qZA()),2&d){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.templateForm.get("version").errors.required)}}function Re(d,C){if(1&d&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&d){const t=C.$implicit;e.Q6J("value",null==t?null:t.warehouse_type),e.xp6(1),e.Oqu(null==t?null:t.role)}}function Ne(d,C){if(1&d&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&d){const t=C.$implicit,n=e.oxw();e.Q6J("value",t)("value",t.id)("selected",t.id===n.selectedSourceType),e.xp6(1),e.Oqu(t.name)}}function Se(d,C){if(1&d&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&d){const t=C.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.value)}}function Ie(d,C){if(1&d&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&d){const t=C.$implicit;e.Q6J("value",null==t?null:t.source_platform_type),e.xp6(1),e.hij("",null==t?null:t.role," ")}}const Oe=[{path:"",component:(()=>{class d{constructor(t,n,p,h){this.titleService=t,this.templateService=n,this.loadingService=p,this.notifyService=h,this.unsubscribe=new A.x,this.isCheckAllItem=!1,this.hasItemDelete=!1,this.filterInput=new S.X({page:1,page_size:10,name:null,description:null,template_id:null}),this.config={itemsPerPage:2,currentPage:1,totalItems:0},this.data=[],this.p=1,this.itemHandle=null,this.popupState={isHandling:!1,edit:!1,delete:!1,bulkDelete:!1,history:!1},this.titleService.setTitle("List Template"),this.loadingService.isLoading.next(!0)}ngOnDestroy(){this.unsubscribe.next(null),this.unsubscribe.complete()}ngOnInit(){this.subsribeFilter(),this.isActiveAdmin=1!=JSON.parse(localStorage.getItem("status"))&&2!=JSON.parse(localStorage.getItem("status"))}subsribeFilter(){this.filterInput.pipe((0,E.R)(this.unsubscribe),(0,l.b)(()=>{this.loadingService.isLoading.next(!0)}),(0,f.b)(500)).subscribe(()=>{this.fetchData(),this.isCheckAllItem=!1,this.hasItemDelete=!1})}sort(t,n){const p=JSON.stringify({[t]:n});this.filterInput.next(Object.assign(Object.assign({},this.filterInput.value),{sort:p}))}checkItem(t,n){this.data[n].checked=t.target.checked,this.setCheckAllItem(),this.showDeleteBtn()}checkAllItem(t){const n=t.target.checked;n&&(this.isCheckAllItem=!0),this.data.forEach(p=>{p.checked=n}),this.showDeleteBtn()}setCheckAllItem(){this.isCheckAllItem=!!this.data.every(t=>t.checked)}showDeleteBtn(){this.hasItemDelete=!!this.data.some(t=>t.checked)}fetchData(){this.resetPopupState(),this.loadingService.isLoading.next(!0),this.templateService.getAll(this.filterInput.value).pipe((0,i.x)(()=>{this.loadingService.isLoading.next(!1)})).subscribe({next:t=>{var n;!t||(this.data=null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[],this.config.totalItems=t.pagination.total_records,this.config.itemsPerPage=t.pagination.page_size)},error:t=>{var n;this.notifyService.pushNotify.next({type:"error",message:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"error"})}})}setPageSize(t){this.filterInput.next(Object.assign(Object.assign({},this.filterInput.value),{page_size:t}))}pageChanged(t){this.filterInput.next(Object.assign(Object.assign({},this.filterInput.value),{page:t}))}filter(t,n){this.filterInput.next(Object.assign(Object.assign({},this.filterInput.value),{[t]:n.target.value}))}handleEdit(t){this.itemHandle=t,this.resetPopupState(),this.popupState.edit=!0}handleDelete(t){this.itemHandle=t,this.resetPopupState(),this.popupState.delete=!0}handleHistory(t){this.itemHandle=t,this.resetPopupState(),this.popupState.history=!0}okDelete(){this.loadingService.isLoading.next(!0),this.templateService.delete(this.itemHandle.template_id).subscribe({next:()=>{this.fetchData()},error:t=>{var n;this.notifyService.pushNotify.next({type:"error",message:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"error"}),this.loadingService.isLoading.next(!1)}})}resetPopupState(){for(const t in this.popupState)this.popupState[t]=!1;this.isCheckAllItem=!1,this.hasItemDelete=!1}okBulkDelete(){this.loadingService.isLoading.next(!0),this.templateService.bulkDelete(this.data.filter(t=>t.checked).map(t=>t.template_id)).subscribe({next:()=>{this.fetchData()},error:t=>{var n;this.notifyService.pushNotify.next({type:"error",message:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"error"}),this.loadingService.isLoading.next(!1)}})}}return d.\u0275fac=function(t){return new(t||d)(e.Y36(N.Dx),e.Y36(T),e.Y36(I.b),e.Y36(y.c))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-list"]],decls:80,vars:21,consts:[[1,"container","mt-3","bg-light","rounded-3"],["aria-label","breadcrumb bg-light"],[1,"breadcrumb","p-1"],[1,"breadcrumb-item"],["href","#",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container","mt-4"],[1,"fw-bold"],["class","btn btn-green text-white mb-4",3,"routerLink",4,"ngIf"],["class","btn btn-danger text-white mb-4","style","margin-left: 8px",3,"click",4,"ngIf"],[1,"container","pb-5"],[2,"overflow-x","scroll"],["data-bs-spy","scroll",1,"table","table-striped","table-hover","table-bordered",2,"width","2000px"],["colspan","1"],[1,"text-primary","text-center"],[1,"d-flex","align-items-center","justify-content-between"],[1,"arrow",3,"click"],[1,"arrow","arrow-down",3,"click"],["class","text-primary text-center fixed","scope","col","colspan","2",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"checked","change"],[1,"form-control",3,"keyup"],["colspan","2","class","",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center",2,"gap","10"],[3,"model","onOk"],[3,"pageChange"],[3,"model","onOk","onClose",4,"ngIf"],[3,"isHandling","onOk","onClose",4,"ngIf"],[1,"btn","btn-green","text-white","mb-4",3,"routerLink"],[1,"btn","btn-danger","text-white","mb-4",2,"margin-left","8px",3,"click"],["scope","col","colspan","2",1,"text-primary","text-center","fixed"],["colspan","2",1,""],[2,"white-space","nowrap"],["scope","col","colspan","4",2,"white-space","nowrap"],["scope","col","colspan","2",4,"ngIf"],["class","fixed d-flex justify-content-between align-item-center","scope","col","colspan","2",4,"ngIf"],["scope","col","colspan","2"],["scope","col","colspan","2",1,"fixed","d-flex","justify-content-between","align-item-center"],[1,"p-0","mx-2","btn","btn-link",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-clock-history"],["d","M8 4.5a.5.5 0 0 1 .5.5V8l2.93 1.93a.5.5 0 0 1-.16.84L8 10.16l-2.27 1.27a.5.5 0 0 1-.84-.16L6 8.5V5a.5.5 0 0 1 .5-.5z"],["d","M8 0a8 8 0 1 0 8 8A8 8 0 0 0 8 0zm4.5 9a.5.5 0 0 1-.5.5H8.5a.5.5 0 0 1-.5-.5V3a.5.5 0 0 1 1 0v5.5h3a.5.5 0 0 1 .5.5z"],["color","#2F80ED","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pen"],["d","m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z"],[1,"p-0","btn","btn-link",3,"click"],["color","#2F80ED","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"],[3,"model","onOk","onClose"],[3,"isHandling","onOk","onClose"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e._uU(5,"Home"),e.qZA()(),e.TgZ(6,"li",5),e._uU(7,"Template"),e.qZA()()()(),e.TgZ(8,"div",6)(9,"h2",7),e._uU(10,"Template"),e.qZA(),e.YNc(11,ne,2,1,"button",8),e.YNc(12,re,2,0,"button",9),e.qZA(),e.TgZ(13,"div",10)(14,"div",11)(15,"table",12)(16,"thead")(17,"tr")(18,"th",13),e._uU(19,"#"),e.qZA(),e.TgZ(20,"th",14),e._uU(21,"template_id"),e.qZA(),e.TgZ(22,"th",14)(23,"div",15)(24,"span"),e._uU(25," name "),e.qZA(),e.TgZ(26,"div")(27,"div",16),e.NdJ("click",function(){return n.sort("name","asc")}),e.qZA(),e.TgZ(28,"div",17),e.NdJ("click",function(){return n.sort("name","desc")}),e.qZA()()()(),e.TgZ(29,"th",14)(30,"div",15)(31,"span"),e._uU(32," warehouse_type "),e.qZA(),e.TgZ(33,"div")(34,"div",16),e.NdJ("click",function(){return n.sort("warehouse_type","asc")}),e.qZA(),e.TgZ(35,"div",17),e.NdJ("click",function(){return n.sort("warehouse_type","desc")}),e.qZA()()()(),e.TgZ(36,"th",14)(37,"div",15)(38,"span"),e._uU(39," version "),e.qZA(),e.TgZ(40,"div")(41,"div",16),e.NdJ("click",function(){return n.sort("version","asc")}),e.qZA(),e.TgZ(42,"div",17),e.NdJ("click",function(){return n.sort("version","desc")}),e.qZA()()()(),e.TgZ(43,"th",14)(44,"div",15)(45,"span"),e._uU(46," created_at "),e.qZA(),e.TgZ(47,"div")(48,"div",16),e.NdJ("click",function(){return n.sort("created_at","asc")}),e.qZA(),e.TgZ(49,"div",17),e.NdJ("click",function(){return n.sort("created_at","desc")}),e.qZA()()()(),e.TgZ(50,"th",14)(51,"div",15)(52,"span"),e._uU(53," updated_at "),e.qZA(),e.TgZ(54,"div")(55,"div",16),e.NdJ("click",function(){return n.sort("updated_at","asc")}),e.qZA(),e.TgZ(56,"div",17),e.NdJ("click",function(){return n.sort("updated_at","desc")}),e.qZA()()()(),e.YNc(57,oe,2,0,"th",18),e.qZA(),e.TgZ(58,"tr")(59,"th",13)(60,"input",19),e.NdJ("change",function(h){return n.checkAllItem(h)}),e.qZA()(),e.TgZ(61,"th")(62,"input",20),e.NdJ("keyup",function(h){return n.filter("template_id",h)}),e.qZA()(),e.TgZ(63,"th")(64,"input",20),e.NdJ("keyup",function(h){return n.filter("name",h)}),e.qZA()(),e.TgZ(65,"th")(66,"input",20),e.NdJ("keyup",function(h){return n.filter("warehouse_type",h)}),e.qZA()(),e.TgZ(67,"th")(68,"input",20),e.NdJ("keyup",function(h){return n.filter("version",h)}),e.qZA()(),e.YNc(69,ie,1,0,"th",21),e.qZA()(),e.TgZ(70,"tbody"),e.YNc(71,le,17,9,"tr",22),e.ALo(72,"paginate"),e.qZA()()(),e.TgZ(73,"div",23)(74,"app-menu-pagination",24),e.NdJ("onOk",function(h){return n.setPageSize(h)}),e.qZA(),e.TgZ(75,"pagination-controls",25),e.NdJ("pageChange",function(h){return n.p=h})("pageChange",function(h){return n.pageChanged(h)}),e.qZA()()(),e.YNc(76,pe,1,1,"app-template-history-item",26),e.YNc(77,ue,1,1,"app-template-edit-item",26),e.YNc(78,Ee,1,1,"app-popup-delete",27),e.YNc(79,ce,1,1,"app-popup-delete",27)),2&t&&(e.xp6(11),e.Q6J("ngIf",n.isActiveAdmin),e.xp6(1),e.Q6J("ngIf",n.isActiveAdmin&&n.hasItemDelete),e.xp6(45),e.Q6J("ngIf",n.isActiveAdmin),e.xp6(3),e.Q6J("checked",n.isCheckAllItem),e.xp6(9),e.Q6J("ngIf",n.isActiveAdmin),e.xp6(2),e.Q6J("ngForOf",e.xi3(72,11,n.data,e.kEZ(14,de,n.config.itemsPerPage,n.p,n.config.totalItems))),e.xp6(3),e.Q6J("model",e.WLB(18,Te,null==n.config?null:n.config.totalItems,null==n.data?null:n.data.length)),e.xp6(2),e.Q6J("ngIf",n.popupState.history),e.xp6(1),e.Q6J("ngIf",n.popupState.edit),e.xp6(1),e.Q6J("ngIf",n.popupState.delete),e.xp6(1),e.Q6J("ngIf",n.popupState.bulkDelete))},dependencies:[o.sg,o.O5,_.w,v.V,m.rH,a.LS,$,te,a._s]}),d})()},{path:"create",component:(()=>{class d{constructor(t,n,p,h,b,M){this.titleService=t,this.loadingService=n,this.notifyService=p,this.fb=h,this.templateService=b,this.router=M,this.editorOptions={theme:"vs-dark",language:"sql"},this.beforeQueryFormat="",this.query="",this.jsonGenerate=null,this.data=[],this.ReportTypes=[],this.editorOptionsJson1={language:"json",automaticLayout:!0,formatOnType:!0,formatOnPaste:!0},this.editorOptionsJson={theme:"vs-dark",language:"json",wordWrap:"on",automaticLayout:!0,formatOnType:!0,formatOnPaste:!0,formatOnSave:!0},this.loadingService.isLoading.next(!0),this.titleService.setTitle("List Template"),this.templateForm=this.fb.group({name:["",g.kI.required],version:["",g.kI.required],enabled:[!0],warehouse_type:[""],source_type:[""],report_type:[""],source_platform_type:[""]})}ngOnInit(){this.fetchDataType(),this.fetchDataSourcePlatformType(),this.fetchDataConnector()}onSourceTypeChange(t){const n=this.data.find(h=>h.id===t),p=this.extractReportTypes(n.reports);this.ReportTypes=[],p.forEach(h=>{this.ReportTypes.push(new g.NI(h))})}extractReportTypes(t){const n=(t=t.replaceAll('\\"',"")).matchAll(/report-type\s+([a-z-]+)/g),p=[];for(const h of n)p.push(h[1]);return p}fetchDataConnector(){this.templateService.getConnector().pipe((0,i.x)(()=>{this.loadingService.isLoading.next(!1)})).subscribe({next:t=>{var n;!t||(this.data=null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[])},error:t=>{var n;this.notifyService.pushNotify.next({type:"error",message:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"error"})}})}saveType(t){let n=this.dataType.find(p=>(null==p?void 0:p.role)===t.target.value);this.typeValue=n.role}saveSourcePlatformType(t){let n=this.dataSourcePlatformType.find(p=>(null==p?void 0:p.role)===t.target.value);this.typeSourcePlatformValue=n.role}fetchDataSourcePlatformType(){this.loadingService.isLoading.next(!0),this.templateService.getDataSourcePlatformType().pipe((0,i.x)(()=>{this.loadingService.isLoading.next(!1)})).subscribe({next:t=>{var n;!t||(this.dataSourcePlatformType=null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[])},error:t=>{var n;this.notifyService.pushNotify.next({type:"error",message:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"error"})}})}fetchDataType(){this.loadingService.isLoading.next(!0),this.templateService.getDataWarehouseType().pipe((0,i.x)(()=>{this.loadingService.isLoading.next(!1)})).subscribe({next:t=>{var n;!t||(this.dataType=null!==(n=null==t?void 0:t.data)&&void 0!==n?n:[])},error:t=>{var n;this.notifyService.pushNotify.next({type:"error",message:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"error"})}})}onSubmit(){var t,n,p,h,b,M,U,D;if(!this.templateForm.valid)return;this.loadingService.isLoading.next(!0);const x={name:this.templateForm.get("name").value,version:this.templateForm.get("version").value,enabled:this.templateForm.get("enabled").value,sql_template:this.query,definition:this.jsonGenerate,warehouse_type:null!==(n=null===(t=this.templateForm.get("warehouse_type"))||void 0===t?void 0:t.value)&&void 0!==n?n:"",source_type:null!==(h=null===(p=this.templateForm.get("source_type"))||void 0===p?void 0:p.value)&&void 0!==h?h:"",report_type:null!==(M=null===(b=this.templateForm.get("report_type"))||void 0===b?void 0:b.value)&&void 0!==M?M:"",source_platform_type:null!==(D=null===(U=this.templateForm.get("source_platform_type"))||void 0===U?void 0:U.value)&&void 0!==D?D:"",user_id:localStorage.getItem("user_id")};let Y={};this.templateService.store(x).pipe((0,i.x)(()=>{this.notifyService.pushNotify.next(Y)})).subscribe({next:()=>{Y={type:"success",message:"create template success"},this.templateForm.reset(),this.router.navigate(["/admin/template/"])},error:V=>{var J;Y={type:"error",message:null!==(J=null==V?void 0:V.message)&&void 0!==J?J:"error"},this.loadingService.isLoading.next(!1)}})}format(){if(this.query)try{this.query="",setTimeout(()=>{let t=(0,P.format)(this.formatWithRule(this.beforeQueryFormat));t=t.replace(":i :table - identifier - x",":i:table-identifier-x"),t=t.replaceAll(" :: ","::"),this.query=t.replaceAll(" :","\\:")},100)}catch(t){this.notifyService.pushNotify.next({type:"error",message:t.toString()})}}getColumnWidths(t){const n=t.trim().split("\n"),p=[];return n.forEach(h=>{h.split(/\s+/).forEach((M,U)=>{p[U]=Math.max(p[U]||0,M.length)})}),p}formatOutput(t){const n=this.getColumnWidths(t);return t.trim().split("\n").map(h=>h.split(/as\s+/).map((M,U)=>{if(0===U)return M;{const D=n[U]-M.length;return"  as "+M+(D>0?" ".repeat(D):"")}}).join(" ")).join("\n")}formatWithRule(t){return t=(t=(t=(t=t.replace(/--(.*)/g,"/*$1*/")).replace(/,\s*/g,", ")).replace(/(\S+)\s+as\s+(\S+)/g,", $1 as $2\n")).replace(/(\bSELECT\b)',/g,"$1 "),this.formatOutput(t)}generateDefinetion2(t){const n={type:"",values:[]},p=[],h=t.match(/FROM\s+(\S+)/i);h?(n.type="extract",n.values.push(h[1])):n.type="plain-values";const b=t.match(/CREATE\s+OR\s+REPLACE\s+TABLE\s+(\S+)/i);b&&p.push(b[1]);const M=t.match(/\bjoin\s+(\S+)/gi);if(M){const D=M.map(x=>x.replace(/\bjoin\s+/i,""));n.values.push(...D)}return{"input-tables":n,"output-tables":p}}queryChange(t){t&&(this.beforeQueryFormat=t)}clickGenerateDefine(){this.jsonGenerate=this.query?JSON.stringify(this.generateDefinetion2(this.beforeQueryFormat),null,"\t"):""}clean(){try{this.query="",setTimeout(()=>{this.query=(0,P.format)("CREATE OR REPLACE TABLE CLEAN.table_name_CLEANED\n        AS\n\n        WITH UNIONED AS\n        (\n        :i:table-identifier-x\n        )\n\n        SELECT\n             *\n          ,  _kleene_extract_date\n          ,  _kleene_metadata_id\n          ,  current_timestamp                                                                                             AS _last_run_timestamp\n          FROM UNIONED")},100)}catch(t){this.notifyService.pushNotify.next({type:"error",message:t.toString()})}}subentity(){try{this.query="",setTimeout(()=>{this.query=(0,P.format)("CREATE OR REPLACE TABLE SUBENTITY.table_name_SUBENTITY\n            AS\n\n            SELECT\n                 *\n            FROM\n              CLEAN.table_name_CLEANED")},100)}catch(t){this.notifyService.pushNotify.next({type:"error",message:t.toString()})}}}return d.\u0275fac=function(t){return new(t||d)(e.Y36(N.Dx),e.Y36(I.b),e.Y36(y.c),e.Y36(g.qu),e.Y36(T),e.Y36(m.F0))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-create"]],decls:75,vars:14,consts:[[1,"container","mt-3","bg-light","rounded-3"],["aria-label","breadcrumb bg-light"],[1,"breadcrumb","p-1"],[1,"breadcrumb-item"],["routerLink","/",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item","active"],["routerLink","/admin/template",1,"text-decoration-none"],["aria-current","page",1,"breadcrumb-item"],[1,"container","mt-4"],[1,"fw-bold"],["routerLink","/admin/template",1,"btn","btn-outline-secondary"],[1,"btn","text-white","btn-success-custom",2,"margin-left","6px",3,"disabled","click"],[1,"container","mt-4","pb-5"],[1,"mb-4","divider"],[3,"formGroup"],[1,"mb-3","row"],["for","name",1,"col-sm-2","col-form-label","text-end"],[1,"col-sm-9"],["type","text","placeholder","name here","id","name","value","","formControlName","name",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"mb-4","row"],["for","version",1,"col-sm-2","col-form-label","text-end"],["type","text","id","version","placeholder","version here","formControlName","version",1,"form-control"],["for","warehouse_type",1,"col-sm-2","col-form-label","text-end"],["type","text","list","warehouse_types","placeholder","warehouse type here","formControlName","warehouse_type",1,"form-control",3,"ngModel","ngModelChange","change"],["id","warehouse_types"],[3,"value",4,"ngFor","ngForOf"],["for","source_type",1,"col-sm-2","col-form-label","text-end"],["aria-label","source_type","formControlName","source_type",1,"form-select",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["for","report_type",1,"col-sm-2","col-form-label","text-end"],["aria-label","report_type","formControlName","report_type",1,"form-select"],["selected","",3,"value",4,"ngFor","ngForOf"],["for","source_platform_type",1,"col-sm-2","col-form-label","text-end"],["type","text","list","source_platform_type","placeholder","Source Platform type here","formControlName","source_platform_type",1,"form-control",3,"ngModel","ngModelChange","change"],["id","source_platform_type"],[1,"row"],[1,"col-xl-8","border-end","pe-4"],[1,"m-0","fw-bold","text-center"],[1,"d-flex"],[1,"btn","btn-warning","text-white","my-4",2,"margin-right","8px",3,"click"],[3,"onClean","onSubentity"],["id","sql_text",2,"height","410px","width","100%",3,"ngModel","options","ngModelChange"],[1,"col-xl-4","ps-4"],[1,"btn","btn-primary","my-4",3,"click"],["id","sql_text",2,"height","410px",3,"ngModel","options","ngModelChange"],[1,"alert","alert-danger","mt-2"],[4,"ngIf"],[3,"value"],[3,"value","selected"],["selected","",3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e._uU(5,"Home"),e.qZA()(),e.TgZ(6,"li",5)(7,"a",6),e._uU(8,"Template"),e.qZA()(),e.TgZ(9,"li",7),e._uU(10,"Create"),e.qZA()()()(),e.TgZ(11,"div",8)(12,"h2",9),e._uU(13,"Create Template"),e.qZA(),e.TgZ(14,"button",10),e._uU(15,"Cancel"),e.qZA(),e.TgZ(16,"button",11),e.NdJ("click",function(){return n.onSubmit()}),e._uU(17,"Save"),e.qZA()(),e.TgZ(18,"div",12),e._UZ(19,"div",13),e.TgZ(20,"form",14)(21,"div",15)(22,"label",16),e._uU(23,"Name"),e.qZA(),e.TgZ(24,"div",17),e._UZ(25,"input",18),e.YNc(26,he,2,1,"div",19),e.qZA()(),e.TgZ(27,"div",20)(28,"label",21),e._uU(29,"Version"),e.qZA(),e.TgZ(30,"div",17),e._UZ(31,"input",22),e.YNc(32,Ae,2,1,"div",19),e.qZA()(),e.TgZ(33,"div",20)(34,"label",23),e._uU(35,"Warehouse Type"),e.qZA(),e.TgZ(36,"div",17)(37,"input",24),e.NdJ("ngModelChange",function(h){return n.typeValue=h})("change",function(h){return n.saveType(h)}),e.qZA(),e.TgZ(38,"datalist",25),e.YNc(39,Re,2,2,"option",26),e.qZA()()(),e.TgZ(40,"div",20)(41,"label",27),e._uU(42,"Source Type"),e.qZA(),e.TgZ(43,"div",17)(44,"select",28),e.NdJ("change",function(h){return n.onSourceTypeChange(h.target.value)}),e.YNc(45,Ne,2,4,"option",29),e.qZA()()(),e.TgZ(46,"div",20)(47,"label",30),e._uU(48,"Report Type"),e.qZA(),e.TgZ(49,"div",17)(50,"select",31),e.YNc(51,Se,2,2,"option",32),e.qZA()()(),e.TgZ(52,"div",20)(53,"label",33),e._uU(54,"Source Platform Type"),e.qZA(),e.TgZ(55,"div",17)(56,"input",34),e.NdJ("ngModelChange",function(h){return n.typeSourcePlatformValue=h})("change",function(h){return n.saveSourcePlatformType(h)}),e.qZA(),e.TgZ(57,"datalist",35),e.YNc(58,Ie,2,2,"option",26),e.qZA()()()(),e._UZ(59,"div",13),e.TgZ(60,"div",36)(61,"div",37)(62,"p",38),e._uU(63,"SQL Template"),e.qZA(),e.TgZ(64,"div",39)(65,"button",40),e.NdJ("click",function(){return n.format()}),e._uU(66,"Format SQL"),e.qZA(),e.TgZ(67,"app-template-dropdown",41),e.NdJ("onClean",function(){return n.clean()})("onSubentity",function(){return n.subentity()}),e.qZA()(),e.TgZ(68,"ngx-monaco-editor",42),e.NdJ("ngModelChange",function(h){return n.query=h})("ngModelChange",function(h){return n.queryChange(h)}),e.qZA()(),e.TgZ(69,"div",43)(70,"p",38),e._uU(71,"Definition"),e.qZA(),e.TgZ(72,"button",44),e.NdJ("click",function(){return n.clickGenerateDefine()}),e._uU(73,"Generate Definition"),e.qZA(),e.TgZ(74,"ngx-monaco-editor",45),e.NdJ("ngModelChange",function(h){return n.jsonGenerate=h}),e.qZA()()()()),2&t&&(e.xp6(16),e.Q6J("disabled",n.templateForm.invalid),e.xp6(4),e.Q6J("formGroup",n.templateForm),e.xp6(6),e.Q6J("ngIf",n.templateForm.get("name").invalid&&(n.templateForm.get("name").dirty||n.templateForm.get("name").touched)),e.xp6(6),e.Q6J("ngIf",n.templateForm.get("version").invalid&&(n.templateForm.get("version").dirty||n.templateForm.get("version").touched)),e.xp6(5),e.Q6J("ngModel",n.typeValue),e.xp6(2),e.Q6J("ngForOf",n.dataType),e.xp6(6),e.Q6J("ngForOf",n.data),e.xp6(6),e.Q6J("ngForOf",n.ReportTypes),e.xp6(5),e.Q6J("ngModel",n.typeSourcePlatformValue),e.xp6(2),e.Q6J("ngForOf",n.dataSourcePlatformType),e.xp6(10),e.Q6J("ngModel",n.query)("options",n.editorOptions),e.xp6(6),e.Q6J("ngModel",n.jsonGenerate)("options",n.editorOptionsJson1))},dependencies:[o.sg,o.O5,m.rH,m.yS,g._Y,g.YN,g.Kr,g.Fj,g.EJ,g.JJ,g.JL,g.sg,g.u,g.On,Z.PG,G]}),d})(),canActivate:[r(2385).D]}];let ve=(()=>{class d{}return d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[m.Bz.forChild(Oe),m.Bz]}),d})();var Le=r(8395);let ye=(()=>{class d{}return d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({providers:[T],imports:[o.ez,Le.m,ve,g.UX,g.u5,Z.nm.forRoot(),a.JX,F.F1]}),d})()},7244:(s,u,r)=>{var l=r(3436)(r(2119),"DataView");s.exports=l},1501:(s,u,r)=>{var l=r(3436)(r(2119),"Map");s.exports=l},4267:(s,u,r)=>{var l=r(3436)(r(2119),"Promise");s.exports=l},6323:(s,u,r)=>{var l=r(3436)(r(2119),"Set");s.exports=l},443:(s,u,r)=>{var a=r(2119);s.exports=a.Symbol},4243:(s,u,r)=>{var l=r(3436)(r(2119),"WeakMap");s.exports=l},2271:(s,u,r)=>{var a=r(5334),o=r(7151),l=r(1503),e=r(891),c=r(8442),T=r(8159),A=Object.prototype.hasOwnProperty;s.exports=function S(E,f){var i=l(E),N=!i&&o(E),I=!i&&!N&&e(E),y=!i&&!N&&!I&&T(E),_=i||N||I||y,v=_?a(E.length,String):[],g=v.length;for(var R in E)(f||A.call(E,R))&&(!_||!("length"==R||I&&("offset"==R||"parent"==R)||y&&("buffer"==R||"byteLength"==R||"byteOffset"==R)||c(R,g)))&&v.push(R);return v}},4633:s=>{s.exports=function u(r,a){for(var o=-1,l=null==r?0:r.length,e=Array(l);++o<l;)e[o]=a(r[o],o,r);return e}},6422:s=>{s.exports=function u(r){return r.split("")}},5317:s=>{s.exports=function u(r,a,o,l){for(var e=r.length,c=o+(l?1:-1);l?c--:++c<e;)if(a(r[c],c,r))return c;return-1}},3337:(s,u,r)=>{var a=r(443),o=r(1318),l=r(2902),T=a?a.toStringTag:void 0;s.exports=function m(A){return null==A?void 0===A?"[object Undefined]":"[object Null]":T&&T in Object(A)?o(A):l(A)}},4164:(s,u,r)=>{var a=r(5317),o=r(968),l=r(4977);s.exports=function e(c,T,m){return T==T?l(c,T,m):a(c,o,m)}},186:(s,u,r)=>{var a=r(3337),o=r(2671);s.exports=function e(c){return o(c)&&"[object Arguments]"==a(c)}},968:s=>{s.exports=function u(r){return r!=r}},7304:(s,u,r)=>{var a=r(5946),o=r(1943),l=r(5940),e=r(2827),T=/^\[object .+?Constructor\]$/,f=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");s.exports=function i(N){return!(!l(N)||o(N))&&(a(N)?f:T).test(e(N))}},1083:(s,u,r)=>{var a=r(3337),o=r(6231),l=r(2671),L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L["[object Arguments]"]=L["[object Array]"]=L["[object ArrayBuffer]"]=L["[object Boolean]"]=L["[object DataView]"]=L["[object Date]"]=L["[object Error]"]=L["[object Function]"]=L["[object Map]"]=L["[object Number]"]=L["[object Object]"]=L["[object RegExp]"]=L["[object Set]"]=L["[object String]"]=L["[object WeakMap]"]=!1,s.exports=function W(k){return l(k)&&o(k.length)&&!!L[a(k)]}},1172:(s,u,r)=>{var a=r(5488),o=r(5491),e=Object.prototype.hasOwnProperty;s.exports=function c(T){if(!a(T))return o(T);var m=[];for(var A in Object(T))e.call(T,A)&&"constructor"!=A&&m.push(A);return m}},7065:s=>{var r=Math.floor;s.exports=function a(o,l){var e="";if(!o||l<1||l>9007199254740991)return e;do{l%2&&(e+=o),(l=r(l/2))&&(o+=o)}while(l);return e}},4363:s=>{s.exports=function u(r,a,o){var l=-1,e=r.length;a<0&&(a=-a>e?0:e+a),(o=o>e?e:o)<0&&(o+=e),e=a>o?0:o-a>>>0,a>>>=0;for(var c=Array(e);++l<e;)c[l]=r[l+a];return c}},5334:s=>{s.exports=function u(r,a){for(var o=-1,l=Array(r);++o<r;)l[o]=a(o);return l}},3935:(s,u,r)=>{var a=r(443),o=r(4633),l=r(1503),e=r(4129),T=a?a.prototype:void 0,m=T?T.toString:void 0;s.exports=function A(S){if("string"==typeof S)return S;if(l(S))return o(S,A)+"";if(e(S))return m?m.call(S):"";var E=S+"";return"0"==E&&1/S==-1/0?"-0":E}},3348:(s,u,r)=>{var a=r(2760),o=/^\s+/;s.exports=function l(e){return e&&e.slice(0,a(e)+1).replace(o,"")}},5647:s=>{s.exports=function u(r){return function(a){return r(a)}}},9179:(s,u,r)=>{var a=r(4633);s.exports=function o(l,e){return a(e,function(c){return l[c]})}},2329:(s,u,r)=>{var a=r(4363);s.exports=function o(l,e,c){var T=l.length;return c=void 0===c?T:c,!e&&c>=T?l:a(l,e,c)}},5286:(s,u,r)=>{var a=r(4164);s.exports=function o(l,e){for(var c=l.length;c--&&a(e,l[c],0)>-1;);return c}},4610:(s,u,r)=>{var a=r(2119);s.exports=a["__core-js_shared__"]},9122:s=>{var u="object"==typeof global&&global&&global.Object===Object&&global;s.exports=u},3436:(s,u,r)=>{var a=r(7304),o=r(1990);s.exports=function l(e,c){var T=o(e,c);return a(T)?T:void 0}},1318:(s,u,r)=>{var a=r(443),o=Object.prototype,l=o.hasOwnProperty,e=o.toString,c=a?a.toStringTag:void 0;s.exports=function T(m){var A=l.call(m,c),S=m[c];try{m[c]=void 0;var E=!0}catch(i){}var f=e.call(m);return E&&(A?m[c]=S:delete m[c]),f}},8794:(s,u,r)=>{var a=r(7244),o=r(1501),l=r(4267),e=r(6323),c=r(4243),T=r(3337),m=r(2827),A="[object Map]",E="[object Promise]",f="[object Set]",i="[object WeakMap]",N="[object DataView]",I=m(a),y=m(o),_=m(l),v=m(e),g=m(c),R=T;(a&&R(new a(new ArrayBuffer(1)))!=N||o&&R(new o)!=A||l&&R(l.resolve())!=E||e&&R(new e)!=f||c&&R(new c)!=i)&&(R=function(O){var P=T(O),Z="[object Object]"==P?O.constructor:void 0,F=Z?m(Z):"";if(F)switch(F){case I:return N;case y:return A;case _:return E;case v:return f;case g:return i}return P}),s.exports=R},1990:s=>{s.exports=function u(r,a){return null==r?void 0:r[a]}},7609:s=>{var T=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");s.exports=function m(A){return T.test(A)}},8442:s=>{var r=/^(?:0|[1-9]\d*)$/;s.exports=function a(o,l){var e=typeof o;return!!(l=null==l?9007199254740991:l)&&("number"==e||"symbol"!=e&&r.test(o))&&o>-1&&o%1==0&&o<l}},3342:(s,u,r)=>{var a=r(217),o=r(6507),l=r(8442),e=r(5940);s.exports=function c(T,m,A){if(!e(A))return!1;var S=typeof m;return!!("number"==S?o(A)&&l(m,A.length):"string"==S&&m in A)&&a(A[m],T)}},1943:(s,u,r)=>{var e,a=r(4610),o=(e=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";s.exports=function l(e){return!!o&&o in e}},5488:s=>{var u=Object.prototype;s.exports=function r(a){var o=a&&a.constructor;return a===("function"==typeof o&&o.prototype||u)}},5491:(s,u,r)=>{var o=r(9385)(Object.keys,Object);s.exports=o},3597:(s,u,r)=>{s=r.nmd(s);var a=r(9122),o=u&&!u.nodeType&&u,l=o&&s&&!s.nodeType&&s,c=l&&l.exports===o&&a.process,T=function(){try{return l&&l.require&&l.require("util").types||c&&c.binding&&c.binding("util")}catch(A){}}();s.exports=T},2902:s=>{var r=Object.prototype.toString;s.exports=function a(o){return r.call(o)}},9385:s=>{s.exports=function u(r,a){return function(o){return r(a(o))}}},2119:(s,u,r)=>{var a=r(9122),o="object"==typeof self&&self&&self.Object===Object&&self,l=a||o||Function("return this")();s.exports=l},4977:s=>{s.exports=function u(r,a,o){for(var l=o-1,e=r.length;++l<e;)if(r[l]===a)return l;return-1}},6007:(s,u,r)=>{var a=r(6422),o=r(7609),l=r(6319);s.exports=function e(c){return o(c)?l(c):a(c)}},2827:s=>{var r=Function.prototype.toString;s.exports=function a(o){if(null!=o){try{return r.call(o)}catch(l){}try{return o+""}catch(l){}}return""}},2760:s=>{var u=/\s/;s.exports=function r(a){for(var o=a.length;o--&&u.test(a.charAt(o)););return o}},6319:s=>{var u="\\ud800-\\udfff",c="["+u+"]",T="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",m="\\ud83c[\\udffb-\\udfff]",S="[^"+u+"]",E="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",N="(?:"+T+"|"+m+")?",I="[\\ufe0e\\ufe0f]?",_=I+N+"(?:\\u200d(?:"+[S,E,f].join("|")+")"+I+N+")*",v="(?:"+[S+T+"?",T,E,f,c].join("|")+")",g=RegExp(m+"(?="+m+")|"+v+_,"g");s.exports=function R(O){return O.match(g)||[]}},217:s=>{s.exports=function u(r,a){return r===a||r!=r&&a!=a}},6127:(s,u,r)=>{var a=r(3943),o=/[\\^$.*+?()[\]{}|]/g,l=RegExp(o.source);s.exports=function e(c){return(c=a(c))&&l.test(c)?c.replace(o,"\\$&"):c}},5588:(s,u,r)=>{var a=r(4164),o=r(6507),l=r(248),e=r(4401),c=r(377),T=Math.max;s.exports=function m(A,S,E,f){A=o(A)?A:c(A),E=E&&!f?e(E):0;var i=A.length;return E<0&&(E=T(i+E,0)),l(A)?E<=i&&A.indexOf(S,E)>-1:!!i&&a(A,S,E)>-1}},7151:(s,u,r)=>{var a=r(186),o=r(2671),l=Object.prototype,e=l.hasOwnProperty,c=l.propertyIsEnumerable,T=a(function(){return arguments}())?a:function(m){return o(m)&&e.call(m,"callee")&&!c.call(m,"callee")};s.exports=T},1503:s=>{s.exports=Array.isArray},6507:(s,u,r)=>{var a=r(5946),o=r(6231);s.exports=function l(e){return null!=e&&o(e.length)&&!a(e)}},891:(s,u,r)=>{s=r.nmd(s);var a=r(2119),o=r(3580),l=u&&!u.nodeType&&u,e=l&&s&&!s.nodeType&&s,T=e&&e.exports===l?a.Buffer:void 0;s.exports=(T?T.isBuffer:void 0)||o},1973:(s,u,r)=>{var a=r(1172),o=r(8794),l=r(7151),e=r(1503),c=r(6507),T=r(891),m=r(5488),A=r(8159),i=Object.prototype.hasOwnProperty;s.exports=function N(I){if(null==I)return!0;if(c(I)&&(e(I)||"string"==typeof I||"function"==typeof I.splice||T(I)||A(I)||l(I)))return!I.length;var y=o(I);if("[object Map]"==y||"[object Set]"==y)return!I.size;if(m(I))return!a(I).length;for(var _ in I)if(i.call(I,_))return!1;return!0}},5946:(s,u,r)=>{var a=r(3337),o=r(5940);s.exports=function m(A){if(!o(A))return!1;var S=a(A);return"[object Function]"==S||"[object GeneratorFunction]"==S||"[object AsyncFunction]"==S||"[object Proxy]"==S}},6231:s=>{s.exports=function r(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=9007199254740991}},5940:s=>{s.exports=function u(r){var a=typeof r;return null!=r&&("object"==a||"function"==a)}},2671:s=>{s.exports=function u(r){return null!=r&&"object"==typeof r}},248:(s,u,r)=>{var a=r(3337),o=r(1503),l=r(2671);s.exports=function c(T){return"string"==typeof T||!o(T)&&l(T)&&"[object String]"==a(T)}},4129:(s,u,r)=>{var a=r(3337),o=r(2671);s.exports=function e(c){return"symbol"==typeof c||o(c)&&"[object Symbol]"==a(c)}},8159:(s,u,r)=>{var a=r(1083),o=r(5647),l=r(3597),e=l&&l.isTypedArray,c=e?o(e):a;s.exports=c},118:(s,u,r)=>{var a=r(2271),o=r(1172),l=r(6507);s.exports=function e(c){return l(c)?a(c):o(c)}},5809:s=>{s.exports=function u(r){var a=null==r?0:r.length;return a?r[a-1]:void 0}},6700:(s,u,r)=>{var a=r(7065),o=r(3342),l=r(4401),e=r(3943);s.exports=function c(T,m,A){return m=(A?o(T,m,A):void 0===m)?1:l(m),a(e(T),m)}},3580:s=>{s.exports=function u(){return!1}},2232:(s,u,r)=>{var a=r(1467),o=1/0;s.exports=function e(c){return c?(c=a(c))===o||c===-o?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}},4401:(s,u,r)=>{var a=r(2232);s.exports=function o(l){var e=a(l),c=e%1;return e==e?c?e-c:e:0}},1467:(s,u,r)=>{var a=r(3348),o=r(5940),l=r(4129),c=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,m=/^0o[0-7]+$/i,A=parseInt;s.exports=function S(E){if("number"==typeof E)return E;if(l(E))return NaN;if(o(E)){var f="function"==typeof E.valueOf?E.valueOf():E;E=o(f)?f+"":f}if("string"!=typeof E)return 0===E?E:+E;E=a(E);var i=T.test(E);return i||m.test(E)?A(E.slice(2),i?2:8):c.test(E)?NaN:+E}},3943:(s,u,r)=>{var a=r(3935);s.exports=function o(l){return null==l?"":a(l)}},9598:(s,u,r)=>{var a=r(3935),o=r(2329),l=r(5286),e=r(6007),c=r(3943),T=r(2760);s.exports=function m(A,S,E){if((A=c(A))&&(E||void 0===S))return A.slice(0,T(A)+1);if(!A||!(S=a(S)))return A;var f=e(A),i=l(f,e(S))+1;return o(f,0,i).join("")}},377:(s,u,r)=>{var a=r(9179),o=r(118);s.exports=function l(e){return null==e?[]:a(e,o(e))}},9937:(s,u,r)=>{"use strict";u.__esModule=!0;var o=N(r(5588)),e=N(r(9598)),T=N(r(9578)),A=N(r(9812)),E=N(r(4634)),i=N(r(2985));function N(_){return _&&_.__esModule?_:{default:_}}var y=function(){function _(v,g){(function I(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")})(this,_),this.cfg=v||{},this.indentation=new A.default(this.cfg.indent),this.inlineBlock=new E.default,this.params=new i.default(this.cfg.params),this.tokenizer=g,this.previousReservedWord={},this.tokens=[],this.index=0}return _.prototype.format=function(g){return this.tokens=this.tokenizer.tokenize(g),this.getFormattedQueryFromTokens().trim()},_.prototype.getFormattedQueryFromTokens=function(){var g=this,R="";return this.tokens.forEach(function(O,P){g.index=P,O.type===T.default.WHITESPACE||(O.type===T.default.LINE_COMMENT?R=g.formatLineComment(O,R):O.type===T.default.BLOCK_COMMENT?R=g.formatBlockComment(O,R):O.type===T.default.RESERVED_TOPLEVEL?(R=g.formatToplevelReservedWord(O,R),g.previousReservedWord=O):O.type===T.default.RESERVED_NEWLINE?(R=g.formatNewlineReservedWord(O,R),g.previousReservedWord=O):O.type===T.default.RESERVED?(R=g.formatWithSpaces(O,R),g.previousReservedWord=O):R=O.type===T.default.OPEN_PAREN?g.formatOpeningParentheses(O,R):O.type===T.default.CLOSE_PAREN?g.formatClosingParentheses(O,R):O.type===T.default.PLACEHOLDER?g.formatPlaceholder(O,R):","===O.value?g.formatComma(O,R):":"===O.value?g.formatWithSpaceAfter(O,R):"."===O.value?g.formatWithoutSpaces(O,R):";"===O.value?g.formatQuerySeparator(O,R):g.formatWithSpaces(O,R))}),R},_.prototype.formatLineComment=function(g,R){return this.addNewline(R+g.value)},_.prototype.formatBlockComment=function(g,R){return this.addNewline(this.addNewline(R)+this.indentComment(g.value))},_.prototype.indentComment=function(g){return g.replace(/\n/g,"\n"+this.indentation.getIndent())},_.prototype.formatToplevelReservedWord=function(g,R){return this.indentation.decreaseTopLevel(),R=this.addNewline(R),this.indentation.increaseToplevel(),R+=this.equalizeWhitespace(g.value),this.addNewline(R)},_.prototype.formatNewlineReservedWord=function(g,R){return this.addNewline(R)+this.equalizeWhitespace(g.value)+" "},_.prototype.equalizeWhitespace=function(g){return g.replace(/\s+/g," ")},_.prototype.formatOpeningParentheses=function(g,R){return(0,o.default)([T.default.WHITESPACE,T.default.OPEN_PAREN,T.default.LINE_COMMENT],this.previousToken().type)||(R=(0,e.default)(R)),R+=g.value,this.inlineBlock.beginIfPossible(this.tokens,this.index),this.inlineBlock.isActive()||(this.indentation.increaseBlockLevel(),R=this.addNewline(R)),R},_.prototype.formatClosingParentheses=function(g,R){return this.inlineBlock.isActive()?(this.inlineBlock.end(),this.formatWithSpaceAfter(g,R)):(this.indentation.decreaseBlockLevel(),this.formatWithSpaces(g,this.addNewline(R)))},_.prototype.formatPlaceholder=function(g,R){return R+this.params.get(g)+" "},_.prototype.formatComma=function(g,R){return R=this.trimTrailingWhitespace(R)+g.value+" ",this.inlineBlock.isActive()||/^LIMIT$/i.test(this.previousReservedWord.value)?R:this.addNewline(R)},_.prototype.formatWithSpaceAfter=function(g,R){return this.trimTrailingWhitespace(R)+g.value+" "},_.prototype.formatWithoutSpaces=function(g,R){return this.trimTrailingWhitespace(R)+g.value},_.prototype.formatWithSpaces=function(g,R){return R+g.value+" "},_.prototype.formatQuerySeparator=function(g,R){return this.trimTrailingWhitespace(R)+g.value+"\n"},_.prototype.addNewline=function(g){return(0,e.default)(g)+"\n"+this.indentation.getIndent()},_.prototype.trimTrailingWhitespace=function(g){return this.previousNonWhitespaceToken().type===T.default.LINE_COMMENT?(0,e.default)(g)+"\n":(0,e.default)(g)},_.prototype.previousNonWhitespaceToken=function(){for(var g=1;this.previousToken(g).type===T.default.WHITESPACE;)g++;return this.previousToken(g)},_.prototype.previousToken=function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.tokens[this.index-g]||{}},_}();u.default=y,s.exports=u.default},9812:(s,u,r)=>{"use strict";u.__esModule=!0;var o=c(r(6700)),e=c(r(5809));function c(E){return E&&E.__esModule?E:{default:E}}var m="top-level",S=function(){function E(f){(function T(E,f){if(!(E instanceof f))throw new TypeError("Cannot call a class as a function")})(this,E),this.indent=f||"  ",this.indentTypes=[]}return E.prototype.getIndent=function(){return(0,o.default)(this.indent,this.indentTypes.length)},E.prototype.increaseToplevel=function(){this.indentTypes.push(m)},E.prototype.increaseBlockLevel=function(){this.indentTypes.push("block-level")},E.prototype.decreaseTopLevel=function(){(0,e.default)(this.indentTypes)===m&&this.indentTypes.pop()},E.prototype.decreaseBlockLevel=function(){for(;this.indentTypes.length>0&&this.indentTypes.pop()===m;);},E}();u.default=S,s.exports=u.default},4634:(s,u,r)=>{"use strict";u.__esModule=!0;var o=function l(m){return m&&m.__esModule?m:{default:m}}(r(9578)),T=function(){function m(){(function e(m,A){if(!(m instanceof A))throw new TypeError("Cannot call a class as a function")})(this,m),this.level=0}return m.prototype.beginIfPossible=function(S,E){0===this.level&&this.isInlineBlock(S,E)?this.level=1:this.level>0?this.level++:this.level=0},m.prototype.end=function(){this.level--},m.prototype.isActive=function(){return this.level>0},m.prototype.isInlineBlock=function(S,E){for(var f=0,i=0,N=E;N<S.length;N++){var I=S[N];if((f+=I.value.length)>50)return!1;if(I.type===o.default.OPEN_PAREN)i++;else if(I.type===o.default.CLOSE_PAREN&&0==--i)return!0;if(this.isForbiddenToken(I))return!1}return!1},m.prototype.isForbiddenToken=function(S){var E=S.type;return E===o.default.RESERVED_TOPLEVEL||E===o.default.RESERVED_NEWLINE||E===o.default.COMMENT||E===o.default.BLOCK_COMMENT||";"===S.value},m}();u.default=T,s.exports=u.default},2985:(s,u)=>{"use strict";u.__esModule=!0;var a=function(){function o(l){(function r(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this.params=l,this.index=0}return o.prototype.get=function(e){var c=e.key,T=e.value;return this.params?c?this.params[c]:this.params[this.index++]:T},o}();u.default=a,s.exports=u.default},4425:(s,u,r)=>{"use strict";u.__esModule=!0;var o=m(r(1973)),e=m(r(6127)),T=m(r(9578));function m(E){return E&&E.__esModule?E:{default:E}}var S=function(){function E(f){(function A(E,f){if(!(E instanceof f))throw new TypeError("Cannot call a class as a function")})(this,E),this.WHITESPACE_REGEX=/^(\s+)/,this.NUMBER_REGEX=/^((-\s*)?[0-9]+(\.[0-9]+)?|0x[0-9a-fA-F]+|0b[01]+)\b/,this.OPERATOR_REGEX=/^(!=|<>|==|<=|>=|!<|!>|\|\||::|->>|->|~~\*|~~|!~~\*|!~~|~\*|!~\*|!~|.)/,this.BLOCK_COMMENT_REGEX=/^(\/\*[^]*?(?:\*\/|$))/,this.LINE_COMMENT_REGEX=this.createLineCommentRegex(f.lineCommentTypes),this.RESERVED_TOPLEVEL_REGEX=this.createReservedWordRegex(f.reservedToplevelWords),this.RESERVED_NEWLINE_REGEX=this.createReservedWordRegex(f.reservedNewlineWords),this.RESERVED_PLAIN_REGEX=this.createReservedWordRegex(f.reservedWords),this.WORD_REGEX=this.createWordRegex(f.specialWordChars),this.STRING_REGEX=this.createStringRegex(f.stringTypes),this.OPEN_PAREN_REGEX=this.createParenRegex(f.openParens),this.CLOSE_PAREN_REGEX=this.createParenRegex(f.closeParens),this.INDEXED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(f.indexedPlaceholderTypes,"[0-9]*"),this.IDENT_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(f.namedPlaceholderTypes,"[a-zA-Z0-9._$]+"),this.STRING_NAMED_PLACEHOLDER_REGEX=this.createPlaceholderRegex(f.namedPlaceholderTypes,this.createStringPattern(f.stringTypes))}return E.prototype.createLineCommentRegex=function(i){return new RegExp("^((?:"+i.map(function(N){return(0,e.default)(N)}).join("|")+").*?(?:\n|$))")},E.prototype.createReservedWordRegex=function(i){var N=i.join("|").replace(/ /g,"\\s+");return new RegExp("^("+N+")\\b","i")},E.prototype.createWordRegex=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new RegExp("^([\\w"+i.join("")+"]+)")},E.prototype.createStringRegex=function(i){return new RegExp("^("+this.createStringPattern(i)+")")},E.prototype.createStringPattern=function(i){var N={"``":"((`[^`]*($|`))+)","[]":"((\\[[^\\]]*($|\\]))(\\][^\\]]*($|\\]))*)",'""':'(("[^"\\\\]*(?:\\\\.[^"\\\\]*)*("|$))+)',"''":"(('[^'\\\\]*(?:\\\\.[^'\\\\]*)*('|$))+)","N''":"((N'[^N'\\\\]*(?:\\\\.[^N'\\\\]*)*('|$))+)"};return i.map(function(I){return N[I]}).join("|")},E.prototype.createParenRegex=function(i){var N=this;return new RegExp("^("+i.map(function(I){return N.escapeParen(I)}).join("|")+")","i")},E.prototype.escapeParen=function(i){return 1===i.length?(0,e.default)(i):"\\b"+i+"\\b"},E.prototype.createPlaceholderRegex=function(i,N){if((0,o.default)(i))return!1;var I=i.map(e.default).join("|");return new RegExp("^((?:"+I+")(?:"+N+"))")},E.prototype.tokenize=function(i){for(var N=[],I=void 0;i.length;)I=this.getNextToken(i,I),i=i.substring(I.value.length),N.push(I);return N},E.prototype.getNextToken=function(i,N){return this.getWhitespaceToken(i)||this.getCommentToken(i)||this.getStringToken(i)||this.getOpenParenToken(i)||this.getCloseParenToken(i)||this.getPlaceholderToken(i)||this.getNumberToken(i)||this.getReservedWordToken(i,N)||this.getWordToken(i)||this.getOperatorToken(i)},E.prototype.getWhitespaceToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.WHITESPACE,regex:this.WHITESPACE_REGEX})},E.prototype.getCommentToken=function(i){return this.getLineCommentToken(i)||this.getBlockCommentToken(i)},E.prototype.getLineCommentToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.LINE_COMMENT,regex:this.LINE_COMMENT_REGEX})},E.prototype.getBlockCommentToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.BLOCK_COMMENT,regex:this.BLOCK_COMMENT_REGEX})},E.prototype.getStringToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.STRING,regex:this.STRING_REGEX})},E.prototype.getOpenParenToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.OPEN_PAREN,regex:this.OPEN_PAREN_REGEX})},E.prototype.getCloseParenToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.CLOSE_PAREN,regex:this.CLOSE_PAREN_REGEX})},E.prototype.getPlaceholderToken=function(i){return this.getIdentNamedPlaceholderToken(i)||this.getStringNamedPlaceholderToken(i)||this.getIndexedPlaceholderToken(i)},E.prototype.getIdentNamedPlaceholderToken=function(i){return this.getPlaceholderTokenWithKey({input:i,regex:this.IDENT_NAMED_PLACEHOLDER_REGEX,parseKey:function(I){return I.slice(1)}})},E.prototype.getStringNamedPlaceholderToken=function(i){var N=this;return this.getPlaceholderTokenWithKey({input:i,regex:this.STRING_NAMED_PLACEHOLDER_REGEX,parseKey:function(y){return N.getEscapedPlaceholderKey({key:y.slice(2,-1),quoteChar:y.slice(-1)})}})},E.prototype.getIndexedPlaceholderToken=function(i){return this.getPlaceholderTokenWithKey({input:i,regex:this.INDEXED_PLACEHOLDER_REGEX,parseKey:function(I){return I.slice(1)}})},E.prototype.getPlaceholderTokenWithKey=function(i){var y=i.parseKey,_=this.getTokenOnFirstMatch({input:i.input,regex:i.regex,type:T.default.PLACEHOLDER});return _&&(_.key=y(_.value)),_},E.prototype.getEscapedPlaceholderKey=function(i){var I=i.quoteChar;return i.key.replace(new RegExp((0,e.default)("\\")+I,"g"),I)},E.prototype.getNumberToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.NUMBER,regex:this.NUMBER_REGEX})},E.prototype.getOperatorToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.OPERATOR,regex:this.OPERATOR_REGEX})},E.prototype.getReservedWordToken=function(i,N){if(!N||!N.value||"."!==N.value)return this.getToplevelReservedToken(i)||this.getNewlineReservedToken(i)||this.getPlainReservedToken(i)},E.prototype.getToplevelReservedToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.RESERVED_TOPLEVEL,regex:this.RESERVED_TOPLEVEL_REGEX})},E.prototype.getNewlineReservedToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.RESERVED_NEWLINE,regex:this.RESERVED_NEWLINE_REGEX})},E.prototype.getPlainReservedToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.RESERVED,regex:this.RESERVED_PLAIN_REGEX})},E.prototype.getWordToken=function(i){return this.getTokenOnFirstMatch({input:i,type:T.default.WORD,regex:this.WORD_REGEX})},E.prototype.getTokenOnFirstMatch=function(i){var I=i.type,_=i.input.match(i.regex);if(_)return{type:I,value:_[1]}},E}();u.default=S,s.exports=u.default},9578:(s,u)=>{"use strict";u.__esModule=!0,u.default={WHITESPACE:"whitespace",WORD:"word",STRING:"string",RESERVED:"reserved",RESERVED_TOPLEVEL:"reserved-toplevel",RESERVED_NEWLINE:"reserved-newline",OPERATOR:"operator",OPEN_PAREN:"open-paren",CLOSE_PAREN:"close-paren",LINE_COMMENT:"line-comment",BLOCK_COMMENT:"block-comment",NUMBER:"number",PLACEHOLDER:"placeholder"},s.exports=u.default},1052:(s,u,r)=>{"use strict";u.__esModule=!0;var o=c(r(9937)),e=c(r(4425));function c(i){return i&&i.__esModule?i:{default:i}}var m=["ABS","ACTIVATE","ALIAS","ALL","ALLOCATE","ALLOW","ALTER","ANY","ARE","ARRAY","AS","ASC","ASENSITIVE","ASSOCIATE","ASUTIME","ASYMMETRIC","AT","ATOMIC","ATTRIBUTES","AUDIT","AUTHORIZATION","AUX","AUXILIARY","AVG","BEFORE","BEGIN","BETWEEN","BIGINT","BINARY","BLOB","BOOLEAN","BOTH","BUFFERPOOL","BY","CACHE","CALL","CALLED","CAPTURE","CARDINALITY","CASCADED","CASE","CAST","CCSID","CEIL","CEILING","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CLOB","CLONE","CLOSE","CLUSTER","COALESCE","COLLATE","COLLECT","COLLECTION","COLLID","COLUMN","COMMENT","COMMIT","CONCAT","CONDITION","CONNECT","CONNECTION","CONSTRAINT","CONTAINS","CONTINUE","CONVERT","CORR","CORRESPONDING","COUNT","COUNT_BIG","COVAR_POP","COVAR_SAMP","CREATE","CROSS","CUBE","CUME_DIST","CURRENT","CURRENT_DATE","CURRENT_DEFAULT_TRANSFORM_GROUP","CURRENT_LC_CTYPE","CURRENT_PATH","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_SERVER","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_TIMEZONE","CURRENT_TRANSFORM_GROUP_FOR_TYPE","CURRENT_USER","CURSOR","CYCLE","DATA","DATABASE","DATAPARTITIONNAME","DATAPARTITIONNUM","DATE","DAY","DAYS","DB2GENERAL","DB2GENRL","DB2SQL","DBINFO","DBPARTITIONNAME","DBPARTITIONNUM","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFAULTS","DEFINITION","DELETE","DENSERANK","DENSE_RANK","DEREF","DESCRIBE","DESCRIPTOR","DETERMINISTIC","DIAGNOSTICS","DISABLE","DISALLOW","DISCONNECT","DISTINCT","DO","DOCUMENT","DOUBLE","DROP","DSSIZE","DYNAMIC","EACH","EDITPROC","ELEMENT","ELSE","ELSEIF","ENABLE","ENCODING","ENCRYPTION","END","END-EXEC","ENDING","ERASE","ESCAPE","EVERY","EXCEPTION","EXCLUDING","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXP","EXPLAIN","EXTENDED","EXTERNAL","EXTRACT","FALSE","FENCED","FETCH","FIELDPROC","FILE","FILTER","FINAL","FIRST","FLOAT","FLOOR","FOR","FOREIGN","FREE","FULL","FUNCTION","FUSION","GENERAL","GENERATED","GET","GLOBAL","GOTO","GRANT","GRAPHIC","GROUP","GROUPING","HANDLER","HASH","HASHED_VALUE","HINT","HOLD","HOUR","HOURS","IDENTITY","IF","IMMEDIATE","IN","INCLUDING","INCLUSIVE","INCREMENT","INDEX","INDICATOR","INDICATORS","INF","INFINITY","INHERIT","INNER","INOUT","INSENSITIVE","INSERT","INT","INTEGER","INTEGRITY","INTERSECTION","INTERVAL","INTO","IS","ISOBID","ISOLATION","ITERATE","JAR","JAVA","KEEP","KEY","LABEL","LANGUAGE","LARGE","LATERAL","LC_CTYPE","LEADING","LEAVE","LEFT","LIKE","LINKTYPE","LN","LOCAL","LOCALDATE","LOCALE","LOCALTIME","LOCALTIMESTAMP","LOCATOR","LOCATORS","LOCK","LOCKMAX","LOCKSIZE","LONG","LOOP","LOWER","MAINTAINED","MATCH","MATERIALIZED","MAX","MAXVALUE","MEMBER","MERGE","METHOD","MICROSECOND","MICROSECONDS","MIN","MINUTE","MINUTES","MINVALUE","MOD","MODE","MODIFIES","MODULE","MONTH","MONTHS","MULTISET","NAN","NATIONAL","NATURAL","NCHAR","NCLOB","NEW","NEW_TABLE","NEXTVAL","NO","NOCACHE","NOCYCLE","NODENAME","NODENUMBER","NOMAXVALUE","NOMINVALUE","NONE","NOORDER","NORMALIZE","NORMALIZED","NOT","NULL","NULLIF","NULLS","NUMERIC","NUMPARTS","OBID","OCTET_LENGTH","OF","OFFSET","OLD","OLD_TABLE","ON","ONLY","OPEN","OPTIMIZATION","OPTIMIZE","OPTION","ORDER","OUT","OUTER","OVER","OVERLAPS","OVERLAY","OVERRIDING","PACKAGE","PADDED","PAGESIZE","PARAMETER","PART","PARTITION","PARTITIONED","PARTITIONING","PARTITIONS","PASSWORD","PATH","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","PIECESIZE","PLAN","POSITION","POWER","PRECISION","PREPARE","PREVVAL","PRIMARY","PRIQTY","PRIVILEGES","PROCEDURE","PROGRAM","PSID","PUBLIC","QUERY","QUERYNO","RANGE","RANK","READ","READS","REAL","RECOVERY","RECURSIVE","REF","REFERENCES","REFERENCING","REFRESH","REGR_AVGX","REGR_AVGY","REGR_COUNT","REGR_INTERCEPT","REGR_R2","REGR_SLOPE","REGR_SXX","REGR_SXY","REGR_SYY","RELEASE","RENAME","REPEAT","RESET","RESIGNAL","RESTART","RESTRICT","RESULT","RESULT_SET_LOCATOR","RETURN","RETURNS","REVOKE","RIGHT","ROLE","ROLLBACK","ROLLUP","ROUND_CEILING","ROUND_DOWN","ROUND_FLOOR","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_UP","ROUND_UP","ROUTINE","ROW","ROWNUMBER","ROWS","ROWSET","ROW_NUMBER","RRN","RUN","SAVEPOINT","SCHEMA","SCOPE","SCRATCHPAD","SCROLL","SEARCH","SECOND","SECONDS","SECQTY","SECURITY","SENSITIVE","SEQUENCE","SESSION","SESSION_USER","SIGNAL","SIMILAR","SIMPLE","SMALLINT","SNAN","SOME","SOURCE","SPECIFIC","SPECIFICTYPE","SQL","SQLEXCEPTION","SQLID","SQLSTATE","SQLWARNING","SQRT","STACKED","STANDARD","START","STARTING","STATEMENT","STATIC","STATMENT","STAY","STDDEV_POP","STDDEV_SAMP","STOGROUP","STORES","STYLE","SUBMULTISET","SUBSTRING","SUM","SUMMARY","SYMMETRIC","SYNONYM","SYSFUN","SYSIBM","SYSPROC","SYSTEM","SYSTEM_USER","TABLE","TABLESAMPLE","TABLESPACE","THEN","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TRAILING","TRANSACTION","TRANSLATE","TRANSLATION","TREAT","TRIGGER","TRIM","TRUE","TRUNCATE","TYPE","UESCAPE","UNDO","UNIQUE","UNKNOWN","UNNEST","UNTIL","UPPER","USAGE","USER","USING","VALIDPROC","VALUE","VARCHAR","VARIABLE","VARIANT","VARYING","VAR_POP","VAR_SAMP","VCAT","VERSION","VIEW","VOLATILE","VOLUMES","WHEN","WHENEVER","WHILE","WIDTH_BUCKET","WINDOW","WITH","WITHIN","WITHOUT","WLM","WRITE","XMLELEMENT","XMLEXISTS","XMLNAMESPACES","YEAR","YEARS"],A=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GROUP BY","GO","HAVING","INSERT INTO","INTERSECT","LIMIT","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNION ALL","UPDATE","VALUES","WHERE"],S=["AND","CROSS JOIN","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN"],E=void 0,f=function(){function i(N){(function T(i,N){if(!(i instanceof N))throw new TypeError("Cannot call a class as a function")})(this,i),this.cfg=N}return i.prototype.format=function(I){return E||(E=new e.default({reservedWords:m,reservedToplevelWords:A,reservedNewlineWords:S,stringTypes:['""',"''","``","[]"],openParens:["("],closeParens:[")"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["#","@"]})),new o.default(this.cfg,E).format(I)},i}();u.default=f,s.exports=u.default},947:(s,u,r)=>{"use strict";u.__esModule=!0;var o=c(r(9937)),e=c(r(4425));function c(i){return i&&i.__esModule?i:{default:i}}var m=["ALL","ALTER","ANALYZE","AND","ANY","ARRAY","AS","ASC","BEGIN","BETWEEN","BINARY","BOOLEAN","BREAK","BUCKET","BUILD","BY","CALL","CASE","CAST","CLUSTER","COLLATE","COLLECTION","COMMIT","CONNECT","CONTINUE","CORRELATE","COVER","CREATE","DATABASE","DATASET","DATASTORE","DECLARE","DECREMENT","DELETE","DERIVED","DESC","DESCRIBE","DISTINCT","DO","DROP","EACH","ELEMENT","ELSE","END","EVERY","EXCEPT","EXCLUDE","EXECUTE","EXISTS","EXPLAIN","FALSE","FETCH","FIRST","FLATTEN","FOR","FORCE","FROM","FUNCTION","GRANT","GROUP","GSI","HAVING","IF","IGNORE","ILIKE","IN","INCLUDE","INCREMENT","INDEX","INFER","INLINE","INNER","INSERT","INTERSECT","INTO","IS","JOIN","KEY","KEYS","KEYSPACE","KNOWN","LAST","LEFT","LET","LETTING","LIKE","LIMIT","LSM","MAP","MAPPING","MATCHED","MATERIALIZED","MERGE","MINUS","MISSING","NAMESPACE","NEST","NOT","NULL","NUMBER","OBJECT","OFFSET","ON","OPTION","OR","ORDER","OUTER","OVER","PARSE","PARTITION","PASSWORD","PATH","POOL","PREPARE","PRIMARY","PRIVATE","PRIVILEGE","PROCEDURE","PUBLIC","RAW","REALM","REDUCE","RENAME","RETURN","RETURNING","REVOKE","RIGHT","ROLE","ROLLBACK","SATISFIES","SCHEMA","SELECT","SELF","SEMI","SET","SHOW","SOME","START","STATISTICS","STRING","SYSTEM","THEN","TO","TRANSACTION","TRIGGER","TRUE","TRUNCATE","UNDER","UNION","UNIQUE","UNKNOWN","UNNEST","UNSET","UPDATE","UPSERT","USE","USER","USING","VALIDATE","VALUE","VALUED","VALUES","VIA","VIEW","WHEN","WHERE","WHILE","WITH","WITHIN","WORK","XOR"],A=["DELETE FROM","EXCEPT ALL","EXCEPT","EXPLAIN DELETE FROM","EXPLAIN UPDATE","EXPLAIN UPSERT","FROM","GROUP BY","HAVING","INFER","INSERT INTO","INTERSECT ALL","INTERSECT","LET","LIMIT","MERGE","NEST","ORDER BY","PREPARE","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNION ALL","UNION","UNNEST","UPDATE","UPSERT","USE KEYS","VALUES","WHERE"],S=["AND","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","XOR"],E=void 0,f=function(){function i(N){(function T(i,N){if(!(i instanceof N))throw new TypeError("Cannot call a class as a function")})(this,i),this.cfg=N}return i.prototype.format=function(I){return E||(E=new e.default({reservedWords:m,reservedToplevelWords:A,reservedNewlineWords:S,stringTypes:['""',"''","``"],openParens:["(","[","{"],closeParens:[")","]","}"],namedPlaceholderTypes:["$"],lineCommentTypes:["#","--"]})),new o.default(this.cfg,E).format(I)},i}();u.default=f,s.exports=u.default},1775:(s,u,r)=>{"use strict";u.__esModule=!0;var o=c(r(9937)),e=c(r(4425));function c(i){return i&&i.__esModule?i:{default:i}}var m=["A","ACCESSIBLE","AGENT","AGGREGATE","ALL","ALTER","ANY","ARRAY","AS","ASC","AT","ATTRIBUTE","AUTHID","AVG","BETWEEN","BFILE_BASE","BINARY_INTEGER","BINARY","BLOB_BASE","BLOCK","BODY","BOOLEAN","BOTH","BOUND","BULK","BY","BYTE","C","CALL","CALLING","CASCADE","CASE","CHAR_BASE","CHAR","CHARACTER","CHARSET","CHARSETFORM","CHARSETID","CHECK","CLOB_BASE","CLONE","CLOSE","CLUSTER","CLUSTERS","COALESCE","COLAUTH","COLLECT","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPILED","COMPRESS","CONNECT","CONSTANT","CONSTRUCTOR","CONTEXT","CONTINUE","CONVERT","COUNT","CRASH","CREATE","CREDENTIAL","CURRENT","CURRVAL","CURSOR","CUSTOMDATUM","DANGLING","DATA","DATE_BASE","DATE","DAY","DECIMAL","DEFAULT","DEFINE","DELETE","DESC","DETERMINISTIC","DIRECTORY","DISTINCT","DO","DOUBLE","DROP","DURATION","ELEMENT","ELSIF","EMPTY","ESCAPE","EXCEPTIONS","EXCLUSIVE","EXECUTE","EXISTS","EXIT","EXTENDS","EXTERNAL","EXTRACT","FALSE","FETCH","FINAL","FIRST","FIXED","FLOAT","FOR","FORALL","FORCE","FROM","FUNCTION","GENERAL","GOTO","GRANT","GROUP","HASH","HEAP","HIDDEN","HOUR","IDENTIFIED","IF","IMMEDIATE","IN","INCLUDING","INDEX","INDEXES","INDICATOR","INDICES","INFINITE","INSTANTIABLE","INT","INTEGER","INTERFACE","INTERVAL","INTO","INVALIDATE","IS","ISOLATION","JAVA","LANGUAGE","LARGE","LEADING","LENGTH","LEVEL","LIBRARY","LIKE","LIKE2","LIKE4","LIKEC","LIMITED","LOCAL","LOCK","LONG","MAP","MAX","MAXLEN","MEMBER","MERGE","MIN","MINUS","MINUTE","MLSLABEL","MOD","MODE","MONTH","MULTISET","NAME","NAN","NATIONAL","NATIVE","NATURAL","NATURALN","NCHAR","NEW","NEXTVAL","NOCOMPRESS","NOCOPY","NOT","NOWAIT","NULL","NULLIF","NUMBER_BASE","NUMBER","OBJECT","OCICOLL","OCIDATE","OCIDATETIME","OCIDURATION","OCIINTERVAL","OCILOBLOCATOR","OCINUMBER","OCIRAW","OCIREF","OCIREFCURSOR","OCIROWID","OCISTRING","OCITYPE","OF","OLD","ON","ONLY","OPAQUE","OPEN","OPERATOR","OPTION","ORACLE","ORADATA","ORDER","ORGANIZATION","ORLANY","ORLVARY","OTHERS","OUT","OVERLAPS","OVERRIDING","PACKAGE","PARALLEL_ENABLE","PARAMETER","PARAMETERS","PARENT","PARTITION","PASCAL","PCTFREE","PIPE","PIPELINED","PLS_INTEGER","PLUGGABLE","POSITIVE","POSITIVEN","PRAGMA","PRECISION","PRIOR","PRIVATE","PROCEDURE","PUBLIC","RAISE","RANGE","RAW","READ","REAL","RECORD","REF","REFERENCE","RELEASE","RELIES_ON","REM","REMAINDER","RENAME","RESOURCE","RESULT_CACHE","RESULT","RETURN","RETURNING","REVERSE","REVOKE","ROLLBACK","ROW","ROWID","ROWNUM","ROWTYPE","SAMPLE","SAVE","SAVEPOINT","SB1","SB2","SB4","SECOND","SEGMENT","SELF","SEPARATE","SEQUENCE","SERIALIZABLE","SHARE","SHORT","SIZE_T","SIZE","SMALLINT","SOME","SPACE","SPARSE","SQL","SQLCODE","SQLDATA","SQLERRM","SQLNAME","SQLSTATE","STANDARD","START","STATIC","STDDEV","STORED","STRING","STRUCT","STYLE","SUBMULTISET","SUBPARTITION","SUBSTITUTABLE","SUBTYPE","SUCCESSFUL","SUM","SYNONYM","SYSDATE","TABAUTH","TABLE","TDO","THE","THEN","TIME","TIMESTAMP","TIMEZONE_ABBR","TIMEZONE_HOUR","TIMEZONE_MINUTE","TIMEZONE_REGION","TO","TRAILING","TRANSACTION","TRANSACTIONAL","TRIGGER","TRUE","TRUSTED","TYPE","UB1","UB2","UB4","UID","UNDER","UNIQUE","UNPLUG","UNSIGNED","UNTRUSTED","USE","USER","USING","VALIDATE","VALIST","VALUE","VARCHAR","VARCHAR2","VARIABLE","VARIANCE","VARRAY","VARYING","VIEW","VIEWS","VOID","WHENEVER","WHILE","WITH","WORK","WRAPPED","WRITE","YEAR","ZONE"],A=["ADD","ALTER COLUMN","ALTER TABLE","BEGIN","CONNECT BY","DECLARE","DELETE FROM","DELETE","END","EXCEPT","EXCEPTION","FETCH FIRST","FROM","GROUP BY","HAVING","INSERT INTO","INSERT","INTERSECT","LIMIT","LOOP","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","START WITH","UNION ALL","UNION","UPDATE","VALUES","WHERE"],S=["AND","CROSS APPLY","CROSS JOIN","ELSE","END","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER APPLY","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","WHEN","XOR"],E=void 0,f=function(){function i(N){(function T(i,N){if(!(i instanceof N))throw new TypeError("Cannot call a class as a function")})(this,i),this.cfg=N}return i.prototype.format=function(I){return E||(E=new e.default({reservedWords:m,reservedToplevelWords:A,reservedNewlineWords:S,stringTypes:['""',"N''","''","``"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:[":"],lineCommentTypes:["--"],specialWordChars:["_","$","#",".","@"]})),new o.default(this.cfg,E).format(I)},i}();u.default=f,s.exports=u.default},7205:(s,u,r)=>{"use strict";u.__esModule=!0;var o=c(r(9937)),e=c(r(4425));function c(i){return i&&i.__esModule?i:{default:i}}var m=["ACCESSIBLE","ACTION","AGAINST","AGGREGATE","ALGORITHM","ALL","ALTER","ANALYSE","ANALYZE","AS","ASC","AUTOCOMMIT","AUTO_INCREMENT","BACKUP","BEGIN","BETWEEN","BINLOG","BOTH","CASCADE","CASE","CHANGE","CHANGED","CHARACTER SET","CHARSET","CHECK","CHECKSUM","COLLATE","COLLATION","COLUMN","COLUMNS","COMMENT","COMMIT","COMMITTED","COMPRESSED","CONCURRENT","CONSTRAINT","CONTAINS","CONVERT","CREATE","CROSS","CURRENT_TIMESTAMP","DATABASE","DATABASES","DAY","DAY_HOUR","DAY_MINUTE","DAY_SECOND","DEFAULT","DEFINER","DELAYED","DELETE","DESC","DESCRIBE","DETERMINISTIC","DISTINCT","DISTINCTROW","DIV","DO","DROP","DUMPFILE","DUPLICATE","DYNAMIC","ELSE","ENCLOSED","END","ENGINE","ENGINES","ENGINE_TYPE","ESCAPE","ESCAPED","EVENTS","EXEC","EXECUTE","EXISTS","EXPLAIN","EXTENDED","FAST","FETCH","FIELDS","FILE","FIRST","FIXED","FLUSH","FOR","FORCE","FOREIGN","FULL","FULLTEXT","FUNCTION","GLOBAL","GRANT","GRANTS","GROUP_CONCAT","HEAP","HIGH_PRIORITY","HOSTS","HOUR","HOUR_MINUTE","HOUR_SECOND","IDENTIFIED","IF","IFNULL","IGNORE","IN","INDEX","INDEXES","INFILE","INSERT","INSERT_ID","INSERT_METHOD","INTERVAL","INTO","INVOKER","IS","ISOLATION","KEY","KEYS","KILL","LAST_INSERT_ID","LEADING","LEVEL","LIKE","LINEAR","LINES","LOAD","LOCAL","LOCK","LOCKS","LOGS","LOW_PRIORITY","MARIA","MASTER","MASTER_CONNECT_RETRY","MASTER_HOST","MASTER_LOG_FILE","MATCH","MAX_CONNECTIONS_PER_HOUR","MAX_QUERIES_PER_HOUR","MAX_ROWS","MAX_UPDATES_PER_HOUR","MAX_USER_CONNECTIONS","MEDIUM","MERGE","MINUTE","MINUTE_SECOND","MIN_ROWS","MODE","MODIFY","MONTH","MRG_MYISAM","MYISAM","NAMES","NATURAL","NOT","NOW()","NULL","OFFSET","ON DELETE","ON UPDATE","ON","ONLY","OPEN","OPTIMIZE","OPTION","OPTIONALLY","OUTFILE","PACK_KEYS","PAGE","PARTIAL","PARTITION","PARTITIONS","PASSWORD","PRIMARY","PRIVILEGES","PROCEDURE","PROCESS","PROCESSLIST","PURGE","QUICK","RAID0","RAID_CHUNKS","RAID_CHUNKSIZE","RAID_TYPE","RANGE","READ","READ_ONLY","READ_WRITE","REFERENCES","REGEXP","RELOAD","RENAME","REPAIR","REPEATABLE","REPLACE","REPLICATION","RESET","RESTORE","RESTRICT","RETURN","RETURNS","REVOKE","RLIKE","ROLLBACK","ROW","ROWS","ROW_FORMAT","SECOND","SECURITY","SEPARATOR","SERIALIZABLE","SESSION","SHARE","SHOW","SHUTDOWN","SLAVE","SONAME","SOUNDS","SQL","SQL_AUTO_IS_NULL","SQL_BIG_RESULT","SQL_BIG_SELECTS","SQL_BIG_TABLES","SQL_BUFFER_RESULT","SQL_CACHE","SQL_CALC_FOUND_ROWS","SQL_LOG_BIN","SQL_LOG_OFF","SQL_LOG_UPDATE","SQL_LOW_PRIORITY_UPDATES","SQL_MAX_JOIN_SIZE","SQL_NO_CACHE","SQL_QUOTE_SHOW_CREATE","SQL_SAFE_UPDATES","SQL_SELECT_LIMIT","SQL_SLAVE_SKIP_COUNTER","SQL_SMALL_RESULT","SQL_WARNINGS","START","STARTING","STATUS","STOP","STORAGE","STRAIGHT_JOIN","STRING","STRIPED","SUPER","TABLE","TABLES","TEMPORARY","TERMINATED","THEN","TO","TRAILING","TRANSACTIONAL","TRUE","TRUNCATE","TYPE","TYPES","UNCOMMITTED","UNIQUE","UNLOCK","UNSIGNED","USAGE","USE","USING","VARIABLES","VIEW","WHEN","WITH","WORK","WRITE","YEAR_MONTH"],A=["ADD","AFTER","ALTER COLUMN","ALTER TABLE","DELETE FROM","EXCEPT","FETCH FIRST","FROM","GROUP BY","GO","HAVING","INSERT INTO","INSERT","INTERSECT","LIMIT","MODIFY","ORDER BY","SELECT","SET CURRENT SCHEMA","SET SCHEMA","SET","UNION ALL","UNION","UPDATE","VALUES","WHERE"],S=["AND","CROSS APPLY","CROSS JOIN","ELSE","INNER JOIN","JOIN","LEFT JOIN","LEFT OUTER JOIN","OR","OUTER APPLY","OUTER JOIN","RIGHT JOIN","RIGHT OUTER JOIN","WHEN","XOR"],E=void 0,f=function(){function i(N){(function T(i,N){if(!(i instanceof N))throw new TypeError("Cannot call a class as a function")})(this,i),this.cfg=N}return i.prototype.format=function(I){return E||(E=new e.default({reservedWords:m,reservedToplevelWords:A,reservedNewlineWords:S,stringTypes:['""',"N''","''","``","[]"],openParens:["(","CASE"],closeParens:[")","END"],indexedPlaceholderTypes:["?"],namedPlaceholderTypes:["@",":"],lineCommentTypes:["#","--"]})),new o.default(this.cfg,E).format(I)},i}();u.default=f,s.exports=u.default},2016:(s,u,r)=>{"use strict";u.__esModule=!0;var o=S(r(1052)),e=S(r(947)),T=S(r(1775)),A=S(r(7205));function S(E){return E&&E.__esModule?E:{default:E}}u.default={format:function(f,i){switch((i=i||{}).language){case"db2":return new o.default(i).format(f);case"n1ql":return new e.default(i).format(f);case"pl/sql":return new T.default(i).format(f);case"sql":case void 0:return new A.default(i).format(f);default:throw Error("Unsupported SQL dialect: "+i.language)}}},s.exports=u.default}}]);